!function(e,t){var s=function(){this.news=e(".news-section"),this.carousel=e(".news-carousel"),this.items=e(".news-carousel__item"),this.prev_button=e(".news-carousel__btn--prev"),this.next_button=e(".news-carousel__btn--next"),this.indexes={current:0,count:this.items.length,next:0,prev:0},this.defaults={current_cls:"news-carousel__item--current"}};s.prototype={init:function(){var e=this;this.news&&this.news.length>0&&(this.indexes.current=1,this.indexize(),t.on("load",function(){setTimeout(function(){e.render.call(e)},300)}),t.on("resize",function(){setTimeout(function(){e.render.call(e)},300)}),this.prev_button.on("click",function(t){return e.eventPrevSlide.call(e),t.preventDefault(),!1}),this.next_button.on("click",function(t){return e.eventNextSlide.call(e),t.preventDefault(),!1}),Assist.isMobile.any()&&this.news.hammer({direction:Hammer.DIRECTION_HORIZONTAL}).on("swipe",function(){e.eventSwipe.call(e)}))},render:function(){var e=this.items.outerHeight();this.items.css("position","absolute"),this.carousel.css("height",e),this.reOrder()},indexize:function(){0===this.indexes.current?(this.indexes.prev=this.indexes.count-1,this.indexes.next=this.indexes.current+1):this.indexes.current===this.indexes.count-1?(this.indexes.prev=this.indexes.count-2,this.indexes.next=0):(this.indexes.prev=this.indexes.current-1,this.indexes.next=this.indexes.current+1)},setTranslateX:function(e,t){e.css({"-webkit-transform":"matrix(1, 0, 0, 1, "+t+", 0)","-moz-transform":"matrix(1, 0, 0, 1, "+t+", 0)","-ms-transform":"matrix(1, 0, 0, 1, "+t+", 0)","-o-transform":"matrix(1, 0, 0, 1, "+t+", 0)",transform:"matrix(1, 0, 0, 1, "+t+", 0)"})},animateTranslateX:function(t,s,i){var n=this;e({offset:s}).stop().animate({offset:i},{duration:650,step:function(e){n.setTranslateX(t,e)}})},reOrder:function(){var s=this,i=t.width(),n=this.items.outerWidth();this.items.each(function(t,r){r=e(r),t===s.indexes.current?(s.setTranslateX(r,n),r.addClass(s.defaults.current_cls)):t===s.indexes.prev?s.setTranslateX(r,0):t>s.indexes.current?s.setTranslateX(r,2*i):t<s.indexes.prev&&s.setTranslateX(r,-i)})},toRight:function(){var s=this,i=t.width(),n=this.items.outerWidth(),r=e(this.items[this.indexes.current]),a=e(this.items[this.indexes.prev]),h=e(this.items[this.indexes.next]);this.indexes.current===this.indexes.count-1&&this.items.each(function(t,n){n=e(n),t>s.indexes.next&&s.setTranslateX(n,-i)}),this.animateTranslateX(r,0,n),r.addClass(this.defaults.current_cls),this.animateTranslateX(a,-i,0),this.animateTranslateX(h,n,2*i),h.removeClass(this.defaults.current_cls)},toLeft:function(){var s=this,i=t.width(),n=this.items.outerWidth(),r=e(this.items[this.indexes.current]),a=e(this.items[this.indexes.prev]),h=e(this.items[this.indexes.prev-1]);this.indexes.current===this.indexes.count-1&&this.items.each(function(t,n){n=e(n),t<s.indexes.prev&&s.setTranslateX(n,2*i)}),h&&h.length>0&&this.animateTranslateX(h,0,-i),1===s.indexes.current&&(h=e(this.items[this.indexes.count-1]),this.animateTranslateX(h,0,-i)),this.animateTranslateX(r,2*i,n),r.addClass(this.defaults.current_cls),this.animateTranslateX(a,n,0),a.removeClass(this.defaults.current_cls)},eventPrevSlide:function(){this.indexes.current=this.indexes.prev,this.indexize(),this.toRight()},eventNextSlide:function(){this.indexes.current=this.indexes.next,this.indexize(),this.toLeft()},eventSwipe:function(){var s=this.news.data("hammer"),i=s.session.lastInterval.direction,n=s.session.offsetDelta.x>t.width()-30,r=e(".mobile-menu");n||2!==i||r.hasClass("mobile-menu--display")?4!==i||r.hasClass("mobile-menu--display")||(this.indexes.current=this.indexes.prev,this.indexize(),this.toRight()):(this.indexes.current=this.indexes.next,this.indexize(),this.toLeft())}},e.carousel=function(){return(new s).init()}}(jQuery,jQuery(window));