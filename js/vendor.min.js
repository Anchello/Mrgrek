!function(){"use strict";function t(t,e){var i;for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function e(t){if(!this||this.find!==e.prototype.find)return new e(t);if(this.length=0,t)if("string"==typeof t&&(t=this.find(t)),t.nodeType||t===t.window)this.length=1,this[0]=t;else{var i=t.length;for(this.length=i;i;)i-=1,this[i]=t[i]}}e.extend=t,e.contains=function(t,e){do if(e=e.parentNode,e===t)return!0;while(e);return!1},e.parseJSON=function(t){return window.JSON&&JSON.parse(t)},t(e.prototype,{find:function(t){var i=this[0]||document;return"string"==typeof t&&(t=i.querySelectorAll?i.querySelectorAll(t):"#"===t.charAt(0)?i.getElementById(t.slice(1)):i.getElementsByTagName(t)),new e(t)},hasClass:function(t){return!!this[0]&&new RegExp("(^|\\s+)"+t+"(\\s+|$)").test(this[0].className)},addClass:function(t){for(var e,i=this.length;i;){if(i-=1,e=this[i],!e.className)return e.className=t,this;if(this.hasClass(t))return this;e.className+=" "+t}return this},removeClass:function(t){for(var e,i=new RegExp("(^|\\s+)"+t+"(\\s+|$)"),n=this.length;n;)n-=1,e=this[n],e.className=e.className.replace(i," ");return this},on:function(t,e){for(var i,n,s=t.split(/\s+/);s.length;)for(t=s.shift(),i=this.length;i;)i-=1,n=this[i],n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent&&n.attachEvent("on"+t,e);return this},off:function(t,e){for(var i,n,s=t.split(/\s+/);s.length;)for(t=s.shift(),i=this.length;i;)i-=1,n=this[i],n.removeEventListener?n.removeEventListener(t,e,!1):n.detachEvent&&n.detachEvent("on"+t,e);return this},empty:function(){for(var t,e=this.length;e;)for(e-=1,t=this[e];t.hasChildNodes();)t.removeChild(t.lastChild);return this},first:function(){return new e(this[0])}}),"function"==typeof define&&define.amd?define(function(){return e}):(window.blueimp=window.blueimp||{},window.blueimp.helper=e)}(),function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper"],t):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=t(window.blueimp.helper||window.jQuery))}(function(t){"use strict";function e(t,i){return void 0===document.body.style.maxHeight?null:this&&this.options===e.prototype.options?t&&t.length?(this.list=t,this.num=t.length,this.initOptions(i),void this.initialize()):void this.console.log("blueimp Gallery: No or empty list provided as first argument.",t):new e(t,i)}return t.extend(e.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",srcsetProperty:"urlset",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleControlsOnSlideClick:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},console:window.console&&"function"==typeof window.console.log?window.console:{log:function(){}},support:function(e){function i(){var t,i,n=s.transition;document.body.appendChild(e),n&&(t=n.name.slice(0,-9)+"ransform",void 0!==e.style[t]&&(e.style[t]="translateZ(0)",i=window.getComputedStyle(e).getPropertyValue(n.prefix+"transform"),s.transform={prefix:n.prefix,name:t,translate:!0,translateZ:!!i&&"none"!==i})),void 0!==e.style.backgroundSize&&(s.backgroundSize={},e.style.backgroundSize="contain",s.backgroundSize.contain="contain"===window.getComputedStyle(e).getPropertyValue("background-size"),e.style.backgroundSize="cover",s.backgroundSize.cover="cover"===window.getComputedStyle(e).getPropertyValue("background-size")),document.body.removeChild(e)}var n,s={touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},o={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}};for(n in o)if(o.hasOwnProperty(n)&&void 0!==e.style[n]){s.transition=o[n],s.transition.name=n;break}return document.body?i():t(document).on("DOMContentLoaded",i),s}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){return this.initStartIndex(),this.initWidget()!==!1&&(this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),void(this.options.startSlideshow&&this.play()))},slide:function(t,e){window.clearTimeout(this.timeout);var i,n,s,o=this.index;if(o!==t&&1!==this.num){if(e||(e=this.options.transitionSpeed),this.support.transform){for(this.options.continuous||(t=this.circle(t)),i=Math.abs(o-t)/(o-t),this.options.continuous&&(n=i,i=-this.positions[this.circle(t)]/this.slideWidth,i!==n&&(t=-i*this.num+t)),s=Math.abs(o-t)-1;s;)s-=1,this.move(this.circle((t>o?t:o)-s-1),this.slideWidth*i,0);t=this.circle(t),this.move(o,this.slideWidth*i,e),this.move(t,0,e),this.options.continuous&&this.move(this.circle(t-i),-(this.slideWidth*i),0)}else t=this.circle(t),this.animate(o*-this.slideWidth,t*-this.slideWidth,e);this.onslide(t)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(t){var e=this;window.clearTimeout(this.timeout),this.interval=t||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(t,i){e.animationFrameId=e.requestAnimationFrame.call(window,function(){e.slide(t,i)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval)),this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.container.removeClass(this.options.playingClass)},add:function(t){var e;for(t.concat||(t=Array.prototype.slice.call(t)),this.list.concat||(this.list=Array.prototype.slice.call(this.list)),this.list=this.list.concat(t),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),e=this.num-t.length;e<this.num;e+=1)this.addSlide(e),this.positionSlide(e);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.unloadAllSlides(),this.slides=[]},handleClose:function(){var t=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display="none",this.container.removeClass(t.displayClass).removeClass(t.singleClass).removeClass(t.leftEdgeClass).removeClass(t.rightEdgeClass),t.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){function t(i){i.target===e.container[0]&&(e.container.off(e.support.transition.end,t),e.handleClose())}var e=this;this.options.onclose&&this.options.onclose.call(this),this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,t),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(t){return(this.num+t%this.num)%this.num},move:function(t,e,i){this.translateX(t,e,i),this.positions[t]=e},translate:function(t,e,i,n){var s=this.slides[t].style,o=this.support.transition,r=this.support.transform;s[o.name+"Duration"]=n+"ms",s[r.name]="translate("+e+"px, "+i+"px)"+(r.translateZ?" translateZ(0)":"")},translateX:function(t,e,i){this.translate(t,e,0,i)},translateY:function(t,e,i){this.translate(t,0,e,i)},animate:function(t,e,i){if(!i)return void(this.slidesContainer[0].style.left=e+"px");var n=this,s=(new Date).getTime(),o=window.setInterval(function(){var r=(new Date).getTime()-s;return r>i?(n.slidesContainer[0].style.left=e+"px",n.ontransitionend(),void window.clearInterval(o)):void(n.slidesContainer[0].style.left=(e-t)*(Math.floor(r/i*100)/100)+t+"px")},4)},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},onresize:function(){this.initSlides(!0)},onmousedown:function(t){t.which&&1===t.which&&"VIDEO"!==t.target.nodeName&&(t.preventDefault(),(t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchstart(t))},onmousemove:function(t){this.touchStart&&((t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchmove(t))},onmouseup:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},onmouseout:function(e){if(this.touchStart){var i=e.target,n=e.relatedTarget;(!n||n!==i&&!t.contains(i,n))&&this.onmouseup(e)}},ontouchstart:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var e=(t.originalEvent||t).touches[0];this.touchStart={x:e.pageX,y:e.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var e,i,n=(t.originalEvent||t).touches[0],s=(t.originalEvent||t).scale,o=this.index;if(!(n.length>1||s&&1!==s))if(this.options.disableScroll&&t.preventDefault(),this.touchDelta={x:n.pageX-this.touchStart.x,y:n.pageY-this.touchStart.y},e=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(e)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.closeOnSwipeUpOrDown&&this.translateY(o,this.touchDelta.y+this.positions[o],0);else for(t.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?i=[this.circle(o+1),o,this.circle(o-1)]:(this.touchDelta.x=e/=!o&&e>0||o===this.num-1&&0>e?Math.abs(e)/this.slideWidth+1:1,i=[o],o&&i.push(o-1),o<this.num-1&&i.unshift(o+1));i.length;)o=i.pop(),this.translateX(o,e+this.positions[o],0)},ontouchend:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var e,i,n,s,o,r=this.index,a=this.options.transitionSpeed,l=this.slideWidth,u=Number(Date.now()-this.touchStart.time)<250,h=u&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>l/2,c=!r&&this.touchDelta.x>0||r===this.num-1&&this.touchDelta.x<0,d=!h&&this.options.closeOnSwipeUpOrDown&&(u&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(c=!1),e=this.touchDelta.x<0?-1:1,this.isScrolling?d?this.close():this.translateY(r,0,a):h&&!c?(i=r+e,n=r-e,s=l*e,o=-l*e,this.options.continuous?(this.move(this.circle(i),s,0),this.move(this.circle(r-2*e),o,0)):i>=0&&i<this.num&&this.move(i,s,0),this.move(r,this.positions[r]+s,a),this.move(this.circle(n),this.positions[this.circle(n)]+s,a),r=this.circle(n),this.onslide(r)):this.options.continuous?(this.move(this.circle(r-1),-l,a),this.move(r,0,a),this.move(this.circle(r+1),l,a)):(r&&this.move(r-1,-l,a),this.move(r,0,a),r<this.num-1&&this.move(r+1,l,a))},ontouchcancel:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},ontransitionend:function(t){var e=this.slides[this.index];t&&e!==t.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,e]))},oncomplete:function(e){var i,n=e.target||e.srcElement,s=n&&n.parentNode;n&&s&&(i=this.getNodeIndex(s),t(s).removeClass(this.options.slideLoadingClass),"error"===e.type?(t(s).addClass(this.options.slideErrorClass),this.elements[i]=3):this.elements[i]=2,n.clientHeight>this.container[0].clientHeight&&(n.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===s&&this.play(),this.setTimeout(this.options.onslidecomplete,[i,s]))},onload:function(t){this.oncomplete(t)},onerror:function(t){this.oncomplete(t)},onkeydown:function(t){switch(t.which||t.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(t),this.toggleControls());break;case 27:this.options.closeOnEscape&&(this.close(),t.stopImmediatePropagation());break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(t),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.next())}},handleClick:function(e){function i(e){return t(s).hasClass(e)||t(o).hasClass(e)}var n=this.options,s=e.target||e.srcElement,o=s.parentNode;i(n.toggleClass)?(this.preventDefault(e),this.toggleControls()):i(n.prevClass)?(this.preventDefault(e),this.prev()):i(n.nextClass)?(this.preventDefault(e),this.next()):i(n.closeClass)?(this.preventDefault(e),this.close()):i(n.playPauseClass)?(this.preventDefault(e),this.toggleSlideshow()):o===this.slidesContainer[0]?n.closeOnSlideClick?(this.preventDefault(e),this.close()):n.toggleControlsOnSlideClick&&(this.preventDefault(e),this.toggleControls()):o.parentNode&&o.parentNode===this.slidesContainer[0]&&n.toggleControlsOnSlideClick&&(this.preventDefault(e),this.toggleControls())},onclick:function(t){return this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)?void delete this.touchDelta:this.handleClick(t)},updateEdgeClasses:function(t){t?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),t===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(t){this.options.continuous||this.updateEdgeClasses(t),this.loadElements(t),this.options.unloadElements&&this.unloadElements(t),this.setTitle(t)},onslide:function(t){this.index=t,this.handleSlide(t),this.setTimeout(this.options.onslide,[t,this.slides[t]])},setTitle:function(t){var e=this.slides[t].firstChild.title,i=this.titleElement;i.length&&(this.titleElement.empty(),e&&i[0].appendChild(document.createTextNode(e)))},setTimeout:function(t,e,i){var n=this;return t&&window.setTimeout(function(){t.apply(n,e||[])},i||0)},imageFactory:function(e,i){function n(e){if(!s){if(e={type:e.type,target:o},!o.parentNode)return a.setTimeout(n,[e]);s=!0,t(l).off("load error",n),h&&"load"===e.type&&(o.style.background='url("'+u+'") center no-repeat',o.style.backgroundSize=h),i(e)}}var s,o,r,a=this,l=this.imagePrototype.cloneNode(!1),u=e,h=this.options.stretchImages;return"string"!=typeof u&&(u=this.getItemProperty(e,this.options.urlProperty),r=this.getItemProperty(e,this.options.titleProperty)),h===!0&&(h="contain"),h=this.support.backgroundSize&&this.support.backgroundSize[h]&&h,h?o=this.elementPrototype.cloneNode(!1):(o=l,l.draggable=!1),r&&(o.title=r),t(l).on("load error",n),l.src=u,o},createElement:function(e,i){var n=e&&this.getItemProperty(e,this.options.typeProperty),s=n&&this[n.split("/")[0]+"Factory"]||this.imageFactory,o=e&&s.call(this,e,i),r=this.getItemProperty(e,this.options.srcsetProperty);return o||(o=this.elementPrototype.cloneNode(!1),this.setTimeout(i,[{type:"error",target:o}])),r&&o.setAttribute("srcset",r),t(o).addClass(this.options.slideContentClass),o},loadElement:function(e){this.elements[e]||(this.slides[e].firstChild?this.elements[e]=t(this.slides[e]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[e]=1,t(this.slides[e]).addClass(this.options.slideLoadingClass),this.slides[e].appendChild(this.createElement(this.list[e],this.proxyListener))))},loadElements:function(t){var e,i=Math.min(this.num,2*this.options.preloadRange+1),n=t;for(e=0;i>e;e+=1)n+=e*(e%2===0?-1:1),n=this.circle(n),this.loadElement(n)},unloadElements:function(t){var e,i;for(e in this.elements)this.elements.hasOwnProperty(e)&&(i=Math.abs(t-e),i>this.options.preloadRange&&i+this.options.preloadRange<this.num&&(this.unloadSlide(e),delete this.elements[e]))},addSlide:function(t){var e=this.slidePrototype.cloneNode(!1);e.setAttribute("data-index",t),this.slidesContainer[0].appendChild(e),this.slides.push(e)},positionSlide:function(t){var e=this.slides[t];e.style.width=this.slideWidth+"px",this.support.transform&&(e.style.left=t*-this.slideWidth+"px",this.move(t,this.index>t?-this.slideWidth:this.index<t?this.slideWidth:0,0))},initSlides:function(e){var i,n;for(e||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),t(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,i=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].offsetWidth,this.slideHeight=this.container[0].offsetHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",i&&this.resetSlides(),n=0;n<this.num;n+=1)i&&this.addSlide(n),this.positionSlide(n);this.options.continuous&&this.support.transform&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transform||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},unloadSlide:function(t){var e,i;e=this.slides[t],i=e.firstChild,null!==i&&e.removeChild(i)},unloadAllSlides:function(){var t,e;for(t=0,e=this.slides.length;e>t;t++)this.unloadSlide(t)},toggleControls:function(){var t=this.options.controlsClass;this.container.hasClass(t)?this.container.removeClass(t):this.container.addClass(t)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(t){return parseInt(t.getAttribute("data-index"),10)},getNestedProperty:function(t,e){return e.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(e,i,n,s,o){var r=o||i||n||s&&parseInt(s,10);e&&t&&(t=t[r])}),t},getDataProperty:function(e,i){if(e.getAttribute){var n=e.getAttribute("data-"+i.replace(/([A-Z])/g,"-$1").toLowerCase());if("string"==typeof n){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(n))try{return t.parseJSON(n)}catch(s){}return n}}},getItemProperty:function(t,e){var i=t[e];return void 0===i&&(i=this.getDataProperty(t,e),void 0===i&&(i=this.getNestedProperty(t,e))),i},initStartIndex:function(){var t,e=this.options.index,i=this.options.urlProperty;if(e&&"number"!=typeof e)for(t=0;t<this.num;t+=1)if(this.list[t]===e||this.getItemProperty(this.list[t],i)===this.getItemProperty(e,i)){e=t;break}this.index=this.circle(parseInt(e,10)||0)},initEventListeners:function(){function e(t){var e=i.support.transition&&i.support.transition.end===t.type?"transitionend":t.type;i["on"+e](t)}var i=this,n=this.slidesContainer;t(window).on("resize",e),t(document.body).on("keydown",e),this.container.on("click",e),this.support.touch?n.on("touchstart touchmove touchend touchcancel",e):this.options.emulateTouchEvents&&this.support.transition&&n.on("mousedown mousemove mouseup mouseout",e),this.support.transition&&n.on(this.support.transition.end,e),this.proxyListener=e},destroyEventListeners:function(){var e=this.slidesContainer,i=this.proxyListener;t(window).off("resize",i),t(document.body).off("keydown",i),this.container.off("click",i),this.support.touch?e.off("touchstart touchmove touchend touchcancel",i):this.options.emulateTouchEvents&&this.support.transition&&e.off("mousedown mousemove mouseup mouseout",i),this.support.transition&&e.off(this.support.transition.end,i)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){function e(t){t.target===i.container[0]&&(i.container.off(i.support.transition.end,e),i.handleOpen())}var i=this;return this.container=t(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),1===this.num&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,e):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):(this.console.log("blueimp Gallery: Slides container not found.",this.options.slidesContainer),!1)):(this.console.log("blueimp Gallery: Widget container not found.",this.options.container),!1)},initOptions:function(e){this.options=t.extend({},this.options),(e&&e.carousel||this.options.carousel&&(!e||e.carousel!==!1))&&t.extend(this.options,this.carouselOptions),t.extend(this.options,e),this.num<3&&(this.options.continuous=!!this.options.continuous&&null),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(t,e){"use strict";t.extend(e.prototype.options,{fullScreen:!1});var i=e.prototype.initialize,n=e.prototype.close;return t.extend(e.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullScreen:function(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},initialize:function(){i.call(this),this.options.fullScreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen(),n.call(this)}}),e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(t,e){"use strict";t.extend(e.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var i=e.prototype.initSlides,n=e.prototype.addSlide,s=e.prototype.resetSlides,o=e.prototype.handleClick,r=e.prototype.handleSlide,a=e.prototype.handleClose;return t.extend(e.prototype,{createIndicator:function(e){var i,n,s=this.indicatorPrototype.cloneNode(!1),o=this.getItemProperty(e,this.options.titleProperty),r=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(r&&(i=this.getItemProperty(e,r)),void 0===i&&(n=e.getElementsByTagName&&t(e).find("img")[0],n&&(i=n.src)),i&&(s.style.backgroundImage='url("'+i+'")')),o&&(s.title=o),s},addIndicator:function(t){if(this.indicatorContainer.length){var e=this.createIndicator(this.list[t]);e.setAttribute("data-index",t),this.indicatorContainer[0].appendChild(e),this.indicators.push(e)}},setActiveIndicator:function(e){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=t(this.indicators[e]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(t){t||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),i.call(this,t)},addSlide:function(t){n.call(this,t),this.addIndicator(t)},resetSlides:function(){s.call(this),this.indicatorContainer.empty(),this.indicators=[]},handleClick:function(t){var e=t.target||t.srcElement,i=e.parentNode;if(i===this.indicatorContainer[0])this.preventDefault(t),this.slide(this.getNodeIndex(e));else{if(i.parentNode!==this.indicatorContainer[0])return o.call(this,t);this.preventDefault(t),this.slide(this.getNodeIndex(i))}},handleSlide:function(t){r.call(this,t),this.setActiveIndicator(t)},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),a.call(this)}}),e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(t,e){"use strict";t.extend(e.prototype.options,{videoContentClass:"video-content",videoLoadingClass:"video-loading",videoPlayingClass:"video-playing",videoPosterProperty:"poster",videoSourcesProperty:"sources"});var i=e.prototype.handleSlide;return t.extend(e.prototype,{handleSlide:function(t){i.call(this,t),this.playingVideo&&this.playingVideo.pause()},videoFactory:function(e,i,n){var s,o,r,a,l,u=this,h=this.options,c=this.elementPrototype.cloneNode(!1),d=t(c),p=[{type:"error",target:c}],f=n||document.createElement("video"),m=this.getItemProperty(e,h.urlProperty),v=this.getItemProperty(e,h.typeProperty),g=this.getItemProperty(e,h.titleProperty),y=this.getItemProperty(e,h.videoPosterProperty),b=this.getItemProperty(e,h.videoSourcesProperty);if(d.addClass(h.videoContentClass),g&&(c.title=g),f.canPlayType)if(m&&v&&f.canPlayType(v))f.src=m;else for(;b&&b.length;)if(o=b.shift(),m=this.getItemProperty(o,h.urlProperty),v=this.getItemProperty(o,h.typeProperty),m&&v&&f.canPlayType(v)){f.src=m;break}return y&&(f.poster=y,s=this.imagePrototype.cloneNode(!1),t(s).addClass(h.toggleClass),s.src=y,s.draggable=!1,c.appendChild(s)),r=document.createElement("a"),r.setAttribute("target","_blank"),n||r.setAttribute("download",g),r.href=m,f.src&&(f.controls=!0,(n||t(f)).on("error",function(){u.setTimeout(i,p)}).on("pause",function(){f.seeking||(a=!1,d.removeClass(u.options.videoLoadingClass).removeClass(u.options.videoPlayingClass),l&&u.container.addClass(u.options.controlsClass),delete u.playingVideo,u.interval&&u.play())}).on("playing",function(){a=!1,d.removeClass(u.options.videoLoadingClass).addClass(u.options.videoPlayingClass),u.container.hasClass(u.options.controlsClass)?(l=!0,u.container.removeClass(u.options.controlsClass)):l=!1}).on("play",function(){window.clearTimeout(u.timeout),a=!0,d.addClass(u.options.videoLoadingClass),u.playingVideo=f}),t(r).on("click",function(t){u.preventDefault(t),a?f.pause():f.play()}),c.appendChild(n&&n.element||f)),c.appendChild(r),this.setTimeout(i,[{type:"load",target:c}]),c}}),e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(t,e){"use strict";if(!window.postMessage)return e;t.extend(e.prototype.options,{vimeoVideoIdProperty:"vimeo",vimeoPlayerUrl:"//player.vimeo.com/video/VIDEO_ID?api=1&player_id=PLAYER_ID",vimeoPlayerIdPrefix:"vimeo-player-",vimeoClickToPlay:!0});var i=e.prototype.textFactory||e.prototype.imageFactory,n=function(t,e,i,n){this.url=t,this.videoId=e,this.playerId=i,this.clickToPlay=n,this.element=document.createElement("div"),this.listeners={}},s=0;return t.extend(n.prototype,{canPlayType:function(){return!0},on:function(t,e){return this.listeners[t]=e,this},loadAPI:function(){function e(){!n&&s.playOnReady&&s.play(),n=!0}for(var i,n,s=this,o="//f.vimeocdn.com/js/froogaloop2.min.js",r=document.getElementsByTagName("script"),a=r.length;a;)if(a-=1,r[a].src===o){i=r[a];break}i||(i=document.createElement("script"),i.src=o),t(i).on("load",e),r[0].parentNode.insertBefore(i,r[0]),/loaded|complete/.test(i.readyState)&&e()},onReady:function(){var t=this;this.ready=!0,this.player.addEvent("play",function(){t.hasPlayed=!0,t.onPlaying()}),this.player.addEvent("pause",function(){t.onPause()}),this.player.addEvent("finish",function(){t.onPause()}),this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){this.listeners.pause(),delete this.playStatus},insertIframe:function(){var t=document.createElement("iframe");t.src=this.url.replace("VIDEO_ID",this.videoId).replace("PLAYER_ID",this.playerId),t.id=this.playerId,this.element.parentNode.replaceChild(t,this.element),this.element=t},play:function(){var t=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.api("play"):(this.playOnReady=!0,window.$f?this.player||(this.insertIframe(),this.player=$f(this.element),this.player.addEvent("ready",function(){t.onReady()})):this.loadAPI())},pause:function(){this.ready?this.player.api("pause"):this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),t.extend(e.prototype,{VimeoPlayer:n,textFactory:function(t,e){var o=this.options,r=this.getItemProperty(t,o.vimeoVideoIdProperty);return r?(void 0===this.getItemProperty(t,o.urlProperty)&&(t[o.urlProperty]="//vimeo.com/"+r),s+=1,this.videoFactory(t,e,new n(o.vimeoPlayerUrl,r,o.vimeoPlayerIdPrefix+s,o.vimeoClickToPlay))):i.call(this,t,e)}}),e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(t,e){"use strict";if(!window.postMessage)return e;t.extend(e.prototype.options,{youTubeVideoIdProperty:"youtube",youTubePlayerVars:{wmode:"transparent"},youTubeClickToPlay:!0});var i=e.prototype.textFactory||e.prototype.imageFactory,n=function(t,e,i){this.videoId=t,this.playerVars=e,this.clickToPlay=i,this.element=document.createElement("div"),this.listeners={}};return t.extend(n.prototype,{canPlayType:function(){return!0},on:function(t,e){return this.listeners[t]=e,this},loadAPI:function(){var t,e=this,i=window.onYouTubeIframeAPIReady,n="//www.youtube.com/iframe_api",s=document.getElementsByTagName("script"),o=s.length;for(window.onYouTubeIframeAPIReady=function(){i&&i.apply(this),e.playOnReady&&e.play()};o;)if(o-=1,s[o].src===n)return;t=document.createElement("script"),t.src=n,s[0].parentNode.insertBefore(t,s[0])},onReady:function(){this.ready=!0,this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){e.prototype.setTimeout.call(this,this.checkSeek,null,2e3)},checkSeek:function(){(this.stateChange===YT.PlayerState.PAUSED||this.stateChange===YT.PlayerState.ENDED)&&(this.listeners.pause(),delete this.playStatus)},onStateChange:function(t){switch(t.data){case YT.PlayerState.PLAYING:this.hasPlayed=!0,this.onPlaying();break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:this.onPause()}this.stateChange=t.data},onError:function(t){this.listeners.error(t)},play:function(){var t=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.playVideo():(this.playOnReady=!0,
window.YT&&YT.Player?this.player||(this.player=new YT.Player(this.element,{videoId:this.videoId,playerVars:this.playerVars,events:{onReady:function(){t.onReady()},onStateChange:function(e){t.onStateChange(e)},onError:function(e){t.onError(e)}}})):this.loadAPI())},pause:function(){this.ready?this.player.pauseVideo():this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),t.extend(e.prototype,{YouTubePlayer:n,textFactory:function(t,e){var s=this.options,o=this.getItemProperty(t,s.youTubeVideoIdProperty);return o?(void 0===this.getItemProperty(t,s.urlProperty)&&(t[s.urlProperty]="//www.youtube.com/watch?v="+o),void 0===this.getItemProperty(t,s.videoPosterProperty)&&(t[s.videoPosterProperty]="//img.youtube.com/vi/"+o+"/maxresdefault.jpg"),this.videoFactory(t,e,new n(o,s.youTubePlayerVars,s.youTubeClickToPlay))):i.call(this,t,e)}}),e}),!function(){var t=window.MutationObserver||window.WebKitMutationObserver,e="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,i=void 0!==document.documentElement.style["touch-action"]||document.documentElement.style["-ms-touch-action"];if(!i&&e&&t){window.Hammer=window.Hammer||{};var n=/touch-action[:][\s]*(none)[^;'"]*/,s=/touch-action[:][\s]*(manipulation)[^;'"]*/,o=/touch-action/,r=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g),a=function(){try{var t=document.createElement("canvas");return!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(e){return!1}}(),l=a&&r;window.Hammer.time={getTouchAction:function(t){return this.checkStyleString(t.getAttribute("style"))},checkStyleString:function(t){return o.test(t)?n.test(t)?"none":!s.test(t)||"manipulation":void 0},shouldHammer:function(t){var e=this.hasParent(t.target);return!(!e||l&&!(Date.now()-t.target.lastStart<125))&&e},touchHandler:function(t){var e=t.target.getBoundingClientRect(),i=e.top!==this.pos.top||e.left!==this.pos.left,n=this.shouldHammer(t);("none"===n||i===!1&&"manipulation"===n)&&("touchend"===t.type&&(t.target.focus(),setTimeout(function(){t.target.click()},0)),t.preventDefault()),this.scrolled=!1,delete t.target.lastStart},touchStart:function(t){this.pos=t.target.getBoundingClientRect(),l&&this.hasParent(t.target)&&(t.target.lastStart=Date.now())},styleWatcher:function(t){t.forEach(this.styleUpdater,this)},styleUpdater:function(t){if(t.target.updateNext)return void(t.target.updateNext=!1);var e=this.getTouchAction(t.target);return e?void("none"!==e&&(t.target.hadTouchNone=!1)):void(!e&&(t.oldValue&&this.checkStyleString(t.oldValue)||t.target.hadTouchNone)&&(t.target.hadTouchNone=!0,t.target.updateNext=!1,t.target.setAttribute("style",t.target.getAttribute("style")+" touch-action: none;")))},hasParent:function(t){for(var e,i=t;i&&i.parentNode;i=i.parentNode)if(e=this.getTouchAction(i))return e;return!1},installStartEvents:function(){document.addEventListener("touchstart",this.touchStart.bind(this)),document.addEventListener("mousedown",this.touchStart.bind(this))},installEndEvents:function(){document.addEventListener("touchend",this.touchHandler.bind(this),!0),document.addEventListener("mouseup",this.touchHandler.bind(this),!0)},installObserver:function(){this.observer=new t(this.styleWatcher.bind(this)).observe(document,{subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["style"]})},install:function(){this.installEndEvents(),this.installStartEvents(),this.installObserver()}},window.Hammer.time.install()}}(),!function(t,e,i,n){"use strict";function s(t,e,i){return setTimeout(u(t,i),e)}function o(t,e,i){return!!Array.isArray(t)&&(r(t,i[e],i),!0)}function r(t,e,i){var s;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==n)for(s=0;s<t.length;)e.call(i,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(i,t[s],s,t)}function a(e,i,n){var s="DEPRECATED METHOD: "+i+"\n"+n+" AT \n";return function(){var i=new Error("get-stack-trace"),n=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=t.console&&(t.console.warn||t.console.log);return o&&o.call(t.console,s,n),e.apply(this,arguments)}}function l(t,e,i){var n,s=e.prototype;n=t.prototype=Object.create(s),n.constructor=t,n._super=s,i&&ct(n,i)}function u(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==ft?t.apply(e?e[0]||n:n,e):t}function c(t,e){return t===n?e:t}function d(t,e,i){r(v(e),function(e){t.addEventListener(e,i,!1)})}function p(t,e,i){r(v(e),function(e){t.removeEventListener(e,i,!1)})}function f(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function v(t){return t.trim().split(/\s+/g)}function g(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function y(t){return Array.prototype.slice.call(t,0)}function b(t,e,i){for(var n=[],s=[],o=0;o<t.length;){var r=e?t[o][e]:t[o];g(s,r)<0&&n.push(t[o]),s[o]=r,o++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function k(t,e){for(var i,s,o=e[0].toUpperCase()+e.slice(1),r=0;r<dt.length;){if(i=dt[r],s=i?i+o:e,s in t)return s;r++}return n}function C(){return kt++}function w(e){var i=e.ownerDocument||e;return i.defaultView||i.parentWindow||t}function P(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&i.handler(e)},this.init()}function S(t){var e,i=t.options.inputClass;return new(e=i?i:Pt?L:St?B:wt?H:j)(t,E)}function E(t,e,i){var n=i.pointers.length,s=i.changedPointers.length,o=e&Ot&&n-s===0,r=e&(Mt|_t)&&n-s===0;i.isFirst=!!o,i.isFinal=!!r,o&&(t.session={}),i.eventType=e,x(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function x(t,e){var i=t.session,n=e.pointers,s=n.length;i.firstInput||(i.firstInput=I(e)),s>1&&!i.firstMultiple?i.firstMultiple=I(e):1===s&&(i.firstMultiple=!1);var o=i.firstInput,r=i.firstMultiple,a=r?r.center:o.center,l=e.center=O(n);e.timeStamp=gt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=R(a,l),e.distance=_(a,l),T(i,e),e.offsetDirection=M(e.deltaX,e.deltaY);var u=D(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=vt(u.x)>vt(u.y)?u.x:u.y,e.scale=r?F(r.pointers,n):1,e.rotation=r?N(r.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,A(i,e);var h=t.element;f(e.srcEvent.target,h)&&(h=e.srcEvent.target),e.target=h}function T(t,e){var i=e.center,n=t.offsetDelta||{},s=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Ot&&o.eventType!==Mt||(s=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=s.x+(i.x-n.x),e.deltaY=s.y+(i.y-n.y)}function A(t,e){var i,s,o,r,a=t.lastInterval||e,l=e.timeStamp-a.timeStamp;if(e.eventType!=_t&&(l>It||a.velocity===n)){var u=e.deltaX-a.deltaX,h=e.deltaY-a.deltaY,c=D(l,u,h);s=c.x,o=c.y,i=vt(c.x)>vt(c.y)?c.x:c.y,r=M(u,h),t.lastInterval=e}else i=a.velocity,s=a.velocityX,o=a.velocityY,r=a.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=r}function I(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:mt(t.pointers[i].clientX),clientY:mt(t.pointers[i].clientY)},i++;return{timeStamp:gt(),pointers:e,center:O(e),deltaX:t.deltaX,deltaY:t.deltaY}}function O(t){var e=t.length;if(1===e)return{x:mt(t[0].clientX),y:mt(t[0].clientY)};for(var i=0,n=0,s=0;e>s;)i+=t[s].clientX,n+=t[s].clientY,s++;return{x:mt(i/e),y:mt(n/e)}}function D(t,e,i){return{x:e/t||0,y:i/t||0}}function M(t,e){return t===e?Rt:vt(t)>=vt(e)?0>t?Nt:Ft:0>e?jt:Lt}function _(t,e,i){i||(i=Gt);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return Math.sqrt(n*n+s*s)}function R(t,e,i){i||(i=Gt);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return 180*Math.atan2(s,n)/Math.PI}function N(t,e){return R(e[1],e[0],Ht)+R(t[1],t[0],Ht)}function F(t,e){return _(e[0],e[1],Ht)/_(t[0],t[1],Ht)}function j(){this.evEl=Wt,this.evWin=Yt,this.pressed=!1,P.apply(this,arguments)}function L(){this.evEl=Kt,this.evWin=Qt,P.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function q(){this.evTarget=Zt,this.evWin=Jt,this.started=!1,P.apply(this,arguments)}function z(t,e){var i=y(t.touches),n=y(t.changedTouches);return e&(Mt|_t)&&(i=b(i.concat(n),"identifier",!0)),[i,n]}function B(){this.evTarget=ee,this.targetIds={},P.apply(this,arguments)}function G(t,e){var i=y(t.touches),n=this.targetIds;if(e&(Ot|Dt)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,o,r=y(t.changedTouches),a=[],l=this.target;if(o=i.filter(function(t){return f(t.target,l)}),e===Ot)for(s=0;s<o.length;)n[o[s].identifier]=!0,s++;for(s=0;s<r.length;)n[r[s].identifier]&&a.push(r[s]),e&(Mt|_t)&&delete n[r[s].identifier],s++;return a.length?[b(o.concat(a),"identifier",!0),a]:void 0}function H(){P.apply(this,arguments);var t=u(this.handler,this);this.touch=new B(this.manager,t),this.mouse=new j(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function V(t,e){t&Ot?(this.primaryTouch=e.changedPointers[0].identifier,W.call(this,e)):t&(Mt|_t)&&W.call(this,e)}function W(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches,s=function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)};setTimeout(s,ie)}}function Y(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var s=this.lastTouches[n],o=Math.abs(e-s.x),r=Math.abs(i-s.y);if(ne>=o&&ne>=r)return!0}return!1}function U(t,e){this.manager=t,this.set(e)}function X(t){if(m(t,ue))return ue;var e=m(t,he),i=m(t,ce);return e&&i?ue:e||i?e?he:ce:m(t,le)?le:ae}function K(){if(!oe)return!1;var e={},i=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!i||t.CSS.supports("touch-action",n)}),e}function Q(t){this.options=ct({},this.defaults,t||{}),this.id=C(),this.manager=null,this.options.enable=c(this.options.enable,!0),this.state=pe,this.simultaneous={},this.requireFail=[]}function $(t){return t&ye?"cancel":t&ve?"end":t&me?"move":t&fe?"start":""}function Z(t){return t==Lt?"down":t==jt?"up":t==Nt?"left":t==Ft?"right":""}function J(t,e){var i=e.manager;return i?i.get(t):t}function tt(){Q.apply(this,arguments)}function et(){tt.apply(this,arguments),this.pX=null,this.pY=null}function it(){tt.apply(this,arguments)}function nt(){Q.apply(this,arguments),this._timer=null,this._input=null}function st(){tt.apply(this,arguments)}function ot(){tt.apply(this,arguments)}function rt(){Q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function at(t,e){return e=e||{},e.recognizers=c(e.recognizers,at.defaults.preset),new lt(t,e)}function lt(t,e){this.options=ct({},at.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=S(this),this.touchAction=new U(this,this.options.touchAction),ut(this,!0),r(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ut(t,e){var i=t.element;if(i.style){var n;r(t.options.cssProps,function(s,o){n=k(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=s):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function ht(t,i){var n=e.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var ct,dt=["","webkit","Moz","MS","ms","o"],pt=e.createElement("div"),ft="function",mt=Math.round,vt=Math.abs,gt=Date.now;ct="function"!=typeof Object.assign?function(t){if(t===n||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(s!==n&&null!==s)for(var o in s)s.hasOwnProperty(o)&&(e[o]=s[o])}return e}:Object.assign;var yt=a(function(t,e,i){for(var s=Object.keys(e),o=0;o<s.length;)(!i||i&&t[s[o]]===n)&&(t[s[o]]=e[s[o]]),o++;return t},"extend","Use `assign`."),bt=a(function(t,e){return yt(t,e,!0)},"merge","Use `assign`."),kt=1,Ct=/mobile|tablet|ip(ad|hone|od)|android/i,wt="ontouchstart"in t,Pt=k(t,"PointerEvent")!==n,St=wt&&Ct.test(navigator.userAgent),Et="touch",xt="pen",Tt="mouse",At="kinect",It=25,Ot=1,Dt=2,Mt=4,_t=8,Rt=1,Nt=2,Ft=4,jt=8,Lt=16,qt=Nt|Ft,zt=jt|Lt,Bt=qt|zt,Gt=["x","y"],Ht=["clientX","clientY"];P.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(w(this.element),this.evWin,this.domHandler)}};var Vt={mousedown:Ot,mousemove:Dt,mouseup:Mt},Wt="mousedown",Yt="mousemove mouseup";l(j,P,{handler:function(t){var e=Vt[t.type];e&Ot&&0===t.button&&(this.pressed=!0),e&Dt&&1!==t.which&&(e=Mt),this.pressed&&(e&Mt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Tt,srcEvent:t}))}});var Ut={pointerdown:Ot,pointermove:Dt,pointerup:Mt,pointercancel:_t,pointerout:_t},Xt={2:Et,3:xt,4:Tt,5:At},Kt="pointerdown",Qt="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Kt="MSPointerDown",Qt="MSPointerMove MSPointerUp MSPointerCancel"),l(L,P,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),s=Ut[n],o=Xt[t.pointerType]||t.pointerType,r=o==Et,a=g(e,t.pointerId,"pointerId");s&Ot&&(0===t.button||r)?0>a&&(e.push(t),a=e.length-1):s&(Mt|_t)&&(i=!0),0>a||(e[a]=t,this.callback(this.manager,s,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(a,1))}});var $t={touchstart:Ot,touchmove:Dt,touchend:Mt,touchcancel:_t},Zt="touchstart",Jt="touchstart touchmove touchend touchcancel";l(q,P,{handler:function(t){var e=$t[t.type];if(e===Ot&&(this.started=!0),this.started){var i=z.call(this,t,e);e&(Mt|_t)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Et,srcEvent:t})}}});var te={touchstart:Ot,touchmove:Dt,touchend:Mt,touchcancel:_t},ee="touchstart touchmove touchend touchcancel";l(B,P,{handler:function(t){var e=te[t.type],i=G.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Et,srcEvent:t})}});var ie=2500,ne=25;l(H,P,{handler:function(t,e,i){var n=i.pointerType==Et,s=i.pointerType==Tt;if(!(s&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)V.call(this,e,i);else if(s&&Y.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var se=k(pt.style,"touchAction"),oe=se!==n,re="compute",ae="auto",le="manipulation",ue="none",he="pan-x",ce="pan-y",de=K();U.prototype={set:function(t){t==re&&(t=this.compute()),oe&&this.manager.element.style&&de[t]&&(this.manager.element.style[se]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return r(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),X(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,s=m(n,ue)&&!de[ue],o=m(n,ce)&&!de[ce],r=m(n,he)&&!de[he];if(s){var a=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(a&&l&&u)return}return r&&o?void 0:s||o&&i&qt||r&&i&zt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var pe=1,fe=2,me=4,ve=8,ge=ve,ye=16,be=32;Q.prototype={defaults:{},set:function(t){return ct(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=J(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=J(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=J(t,this),-1===g(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=J(t,this);var e=g(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;ve>n&&e(i.options.event+$(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=ve&&e(i.options.event+$(n))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=be)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(be|pe)))return!1;t++}return!0},recognize:function(t){var e=ct({},t);return h(this.options.enable,[this,e])?(this.state&(ge|ye|be)&&(this.state=pe),this.state=this.process(e),void(this.state&(fe|me|ve|ye)&&this.tryEmit(e))):(this.reset(),void(this.state=be))},process:function(t){},getTouchAction:function(){},reset:function(){}},l(tt,Q,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(fe|me),s=this.attrTest(t);return n&&(i&_t||!s)?e|ye:n||s?i&Mt?e|ve:e&fe?e|me:fe:be}}),l(et,tt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Bt},getTouchAction:function(){var t=this.options.direction,e=[];return t&qt&&e.push(ce),t&zt&&e.push(he),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,s=t.direction,o=t.deltaX,r=t.deltaY;return s&e.direction||(e.direction&qt?(s=0===o?Rt:0>o?Nt:Ft,i=o!=this.pX,n=Math.abs(t.deltaX)):(s=0===r?Rt:0>r?jt:Lt,i=r!=this.pY,n=Math.abs(t.deltaY))),t.direction=s,i&&n>e.threshold&&s&e.direction},attrTest:function(t){return tt.prototype.attrTest.call(this,t)&&(this.state&fe||!(this.state&fe)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Z(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),l(it,tt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ue]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&fe)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),l(nt,Q,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ae]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(Mt|_t)&&!o)this.reset();else if(t.eventType&Ot)this.reset(),this._timer=s(function(){this.state=ge,this.tryEmit()},e.time,this);else if(t.eventType&Mt)return ge;return be},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ge&&(t&&t.eventType&Mt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=gt(),this.manager.emit(this.options.event,this._input)))}}),l(st,tt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ue]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&fe)}}),l(ot,tt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:qt|zt,pointers:1},getTouchAction:function(){return et.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(qt|zt)?e=t.overallVelocity:i&qt?e=t.overallVelocityX:i&zt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&vt(e)>this.options.velocity&&t.eventType&Mt},emit:function(t){var e=Z(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),l(rt,Q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[le]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Ot&&0===this.count)return this.failTimeout();if(n&&o&&i){if(t.eventType!=Mt)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||_(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&r?this.count+=1:this.count=1,this._input=t;var l=this.count%e.taps;if(0===l)return this.hasRequireFailures()?(this._timer=s(function(){this.state=ge,this.tryEmit()},e.interval,this),fe):ge}return be},failTimeout:function(){return this._timer=s(function(){this.state=be},this.options.interval,this),be},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ge&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),at.VERSION="2.0.8",at.defaults={domEvents:!1,touchAction:re,enable:!0,inputTarget:null,inputClass:null,preset:[[st,{enable:!1}],[it,{enable:!1},["rotate"]],[ot,{direction:qt}],[et,{direction:qt},["swipe"]],[rt],[rt,{event:"doubletap",taps:2},["tap"]],[nt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ke=1,Ce=2;lt.prototype={set:function(t){return ct(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Ce:ke},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,s=e.curRecognizer;(!s||s&&s.state&ge)&&(s=e.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],e.stopped===Ce||s&&i!=s&&!i.canRecognizeWith(s)?i.reset():i.recognize(t),!s&&i.state&(fe|me|ve)&&(s=e.curRecognizer=i),o++}},get:function(t){if(t instanceof Q)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=g(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==n&&e!==n){var i=this.handlers;return r(v(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==n){var i=this.handlers;return r(v(t),function(t){e?i[t]&&i[t].splice(g(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&ht(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&ut(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ct(at,{INPUT_START:Ot,INPUT_MOVE:Dt,INPUT_END:Mt,INPUT_CANCEL:_t,STATE_POSSIBLE:pe,STATE_BEGAN:fe,STATE_CHANGED:me,STATE_ENDED:ve,STATE_RECOGNIZED:ge,STATE_CANCELLED:ye,STATE_FAILED:be,DIRECTION_NONE:Rt,DIRECTION_LEFT:Nt,DIRECTION_RIGHT:Ft,DIRECTION_UP:jt,DIRECTION_DOWN:Lt,DIRECTION_HORIZONTAL:qt,DIRECTION_VERTICAL:zt,DIRECTION_ALL:Bt,Manager:lt,Input:P,TouchAction:U,TouchInput:B,MouseInput:j,PointerEventInput:L,TouchMouseInput:H,SingleTouchInput:q,Recognizer:Q,AttrRecognizer:tt,Tap:rt,Pan:et,Swipe:ot,Pinch:it,Rotate:st,Press:nt,on:d,off:p,each:r,merge:bt,extend:yt,assign:ct,inherit:l,bindFn:u,prefixed:k});var we="undefined"!=typeof t?t:"undefined"!=typeof self?self:{};we.Hammer=at,"function"==typeof define&&define.amd?define(function(){return at}):"undefined"!=typeof module&&module.exports?module.exports=at:t[i]=at}(window,document,"Hammer"),!function(t){"function"==typeof define&&define.amd?define(["inputmask.dependencyLib"],t):"object"==typeof exports?module.exports=t(require("./inputmask.dependencyLib.jquery")):t(window.dependencyLib||jQuery)}(function(t){function e(i,n){return this instanceof e?(t.isPlainObject(i)?n=i:(n=n||{},n.alias=i),this.el=void 0,this.opts=t.extend(!0,{},this.defaults,n),this.noMasksCache=n&&void 0!==n.definitions,this.userOptions=n||{},this.events={},void s(this.opts.alias,n,this.opts)):new e(i,n)}function i(t){var e=document.createElement("input"),i="on"+t,n=i in e;return n||(e.setAttribute(i,"return;"),n="function"==typeof e[i]),e=null,n}function n(e,i){var n=e.getAttribute("type"),s="INPUT"===e.tagName&&t.inArray(n,i.supportsInputType)!==-1||e.isContentEditable||"TEXTAREA"===e.tagName;if(!s&&"INPUT"===e.tagName){var o=document.createElement("input");o.setAttribute("type",n),s="text"===o.type,o=null}return s}function s(e,i,n){var o=n.aliases[e];return o?(o.alias&&s(o.alias,void 0,n),t.extend(!0,n,o),t.extend(!0,n,i),!0):(null===n.mask&&(n.mask=e),!1)}function o(e,i,n){function o(t,i){i=void 0!==i?i:e.getAttribute("data-inputmask-"+t),null!==i&&("string"==typeof i&&(0===t.indexOf("on")?i=window[i]:"false"===i?i=!1:"true"===i&&(i=!0)),n[t]=i)}var r,a,l,u,h=e.getAttribute("data-inputmask");if(h&&""!==h&&(h=h.replace(new RegExp("'","g"),'"'),a=JSON.parse("{"+h+"}")),a){l=void 0;for(u in a)if("alias"===u.toLowerCase()){l=a[u];break}}o("alias",l),n.alias&&s(n.alias,n,i);for(r in i){if(a){l=void 0;for(u in a)if(u.toLowerCase()===r.toLowerCase()){l=a[u];break}}o(r,l)}return t.extend(!0,i,n),i}function r(i,n){function s(e){function n(t,e,i,n){this.matches=[],this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function s(e,n,s){var o=i.definitions[n];s=void 0!==s?s:e.matches.length;var r=e.matches[s-1];if(o&&!g){o.placeholder=t.isFunction(o.placeholder)?o.placeholder(i):o.placeholder;for(var a=o.prevalidator,l=a?a.length:0,u=1;u<o.cardinality;u++){var h=l>=u?a[u-1]:[],c=h.validator,d=h.cardinality;e.matches.splice(s++,0,{fn:c?"string"==typeof c?new RegExp(c):new function(){this.test=c}:new RegExp("."),cardinality:d?d:1,optionality:e.isOptional,newBlockMarker:void 0===r||r.def!==(o.definitionSymbol||n),casing:o.casing,def:o.definitionSymbol||n,placeholder:o.placeholder,mask:n}),r=e.matches[s-1]}e.matches.splice(s++,0,{fn:o.validator?"string"==typeof o.validator?new RegExp(o.validator):new function(){this.test=o.validator}:new RegExp("."),cardinality:o.cardinality,optionality:e.isOptional,newBlockMarker:void 0===r||r.def!==(o.definitionSymbol||n),casing:o.casing,def:o.definitionSymbol||n,placeholder:o.placeholder,mask:n})}else e.matches.splice(s++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:void 0===r||r.def!==n,casing:null,def:i.staticDefinitionSymbol||n,placeholder:void 0!==i.staticDefinitionSymbol?n:void 0,mask:n}),g=!1}function o(t,e){t.isGroup&&(t.isGroup=!1,s(t,i.groupmarker.start,0),e!==!0&&s(t,i.groupmarker.end))}function r(t,e,i,n){e.matches.length>0&&(void 0===n||n)&&(i=e.matches[e.matches.length-1],o(i)),s(e,t)}function a(){if(b.length>0){if(d=b[b.length-1],r(h,d,f,!d.isAlternator),d.isAlternator){p=b.pop();for(var t=0;t<p.matches.length;t++)p.matches[t].isGroup=!1;b.length>0?(d=b[b.length-1],d.matches.push(p)):y.matches.push(p)}}else r(h,y,f)}function l(t){function e(t){return t===i.optionalmarker.start?t=i.optionalmarker.end:t===i.optionalmarker.end?t=i.optionalmarker.start:t===i.groupmarker.start?t=i.groupmarker.end:t===i.groupmarker.end&&(t=i.groupmarker.start),t}t.matches=t.matches.reverse();for(var n in t.matches){var s=parseInt(n);if(t.matches[n].isQuantifier&&t.matches[s+1]&&t.matches[s+1].isGroup){var o=t.matches[n];t.matches.splice(n,1),t.matches.splice(s+1,0,o)}void 0!==t.matches[n].matches?t.matches[n]=l(t.matches[n]):t.matches[n]=e(t.matches[n])}return t}for(var u,h,c,d,p,f,m,v=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,g=!1,y=new n,b=[],k=[];u=v.exec(e);)if(h=u[0],g)a();else switch(h.charAt(0)){case i.escapeChar:g=!0;break;case i.optionalmarker.end:case i.groupmarker.end:if(c=b.pop(),void 0!==c)if(b.length>0){if(d=b[b.length-1],d.matches.push(c),d.isAlternator){p=b.pop();for(var C=0;C<p.matches.length;C++)p.matches[C].isGroup=!1;b.length>0?(d=b[b.length-1],d.matches.push(p)):y.matches.push(p)}}else y.matches.push(c);else a();break;case i.optionalmarker.start:b.push(new n((!1),(!0)));break;case i.groupmarker.start:b.push(new n((!0)));break;case i.quantifiermarker.start:var w=new n((!1),(!1),(!0));h=h.replace(/[{}]/g,"");var P=h.split(","),S=isNaN(P[0])?P[0]:parseInt(P[0]),E=1===P.length?S:isNaN(P[1])?P[1]:parseInt(P[1]);if("*"!==E&&"+"!==E||(S="*"===E?0:1),w.quantifier={min:S,max:E},b.length>0){var x=b[b.length-1].matches;u=x.pop(),u.isGroup||(m=new n((!0)),m.matches.push(u),u=m),x.push(u),x.push(w)}else u=y.matches.pop(),u.isGroup||(m=new n((!0)),m.matches.push(u),u=m),y.matches.push(u),y.matches.push(w);break;case i.alternatormarker:b.length>0?(d=b[b.length-1],f=d.matches.pop()):f=y.matches.pop(),f.isAlternator?b.push(f):(p=new n((!1),(!1),(!1),(!0)),p.matches.push(f),b.push(p));break;default:a()}for(;b.length>0;)c=b.pop(),o(c,!0),y.matches.push(c);return y.matches.length>0&&(f=y.matches[y.matches.length-1],o(f),k.push(y)),i.numericInput&&l(k[0]),k}function o(o,r){if(null!==o&&""!==o){if(1===o.length&&i.greedy===!1&&0!==i.repeat&&(i.placeholder=""),i.repeat>0||"*"===i.repeat||"+"===i.repeat){var a="*"===i.repeat?0:"+"===i.repeat?1:i.repeat;o=i.groupmarker.start+o+i.groupmarker.end+i.quantifiermarker.start+a+","+i.repeat+i.quantifiermarker.end}var l;return void 0===e.prototype.masksCache[o]||n===!0?(l={mask:o,maskToken:s(o),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:r,maskLength:void 0},n!==!0&&(e.prototype.masksCache[i.numericInput?o.split("").reverse().join(""):o]=l,l=t.extend(!0,{},e.prototype.masksCache[i.numericInput?o.split("").reverse().join(""):o]))):l=t.extend(!0,{},e.prototype.masksCache[i.numericInput?o.split("").reverse().join(""):o]),l}}function r(t){return t=t.toString()}var a;if(t.isFunction(i.mask)&&(i.mask=i.mask(i)),t.isArray(i.mask)){if(i.mask.length>1){i.keepStatic=null===i.keepStatic||i.keepStatic;var l="(";return t.each(i.numericInput?i.mask.reverse():i.mask,function(e,i){l.length>1&&(l+=")|("),l+=r(void 0===i.mask||t.isFunction(i.mask)?i:i.mask)}),l+=")",o(l,i.mask)}i.mask=i.mask.pop()}return i.mask&&(a=void 0===i.mask.mask||t.isFunction(i.mask.mask)?o(r(i.mask),i.mask):o(r(i.mask.mask),i.mask)),a}function a(s,o,r){function l(t,e,i){e=e||0;var n,s,o,a=[],l=0,u=f();at=void 0!==ot?ot.maxLength:void 0,at===-1&&(at=void 0);do{if(t===!0&&d().validPositions[l]){var h=d().validPositions[l];s=h.match,n=h.locator.slice(),a.push(i===!0?h.input:R(l,s))}else o=y(l,n,l-1),s=o.match,n=o.locator.slice(),(r.jitMasking===!1||l<u||isFinite(r.jitMasking)&&r.jitMasking>l)&&a.push(R(l,s));l++}while((void 0===at||l<at)&&(null!==s.fn||""!==s.def)||e>l);return""===a[a.length-1]&&a.pop(),d().maskLength=l+1,a}function d(){return o}function p(t){var e=d();e.buffer=void 0,t!==!0&&(e._buffer=void 0,e.validPositions={},e.p=0)}function f(t,e,i){var n=-1,s=-1,o=i||d().validPositions;void 0===t&&(t=-1);for(var r in o){var a=parseInt(r);o[a]&&(e||null!==o[a].match.fn)&&(a<=t&&(n=a),a>=t&&(s=a))}return n!==-1&&t-n>1||s<t?n:s}function m(e,i,n,s){if(s||r.insertMode&&void 0!==d().validPositions[e]&&void 0===n){var o,a=t.extend(!0,{},d().validPositions),l=f();for(o=e;o<=l;o++)delete d().validPositions[o];d().validPositions[e]=t.extend(!0,{},i);var u,h=!0,c=d().validPositions,m=!1;for(o=u=e;o<=l;o++){var v=a[o];if(void 0!==v)for(var g=u,y=-1;g<d().maskLength&&(null==v.match.fn&&c[o]&&(c[o].match.optionalQuantifier===!0||c[o].match.optionality===!0)||null!=v.match.fn);){if(g++,m===!1&&a[g]&&a[g].match.def===v.match.def){d().validPositions[g]=t.extend(!0,{},a[g]),d().validPositions[g].input=v.input,
u=g,h=!0;break}if(k(g,v.match.def)){var b=A(g,v.input,!0,!0);if(h=b!==!1,u=b.caret||b.insert?f():g,m=!0,h)break}else{if(h=null==v.match.fn,y===g)break;y=g}}if(!h)break}if(!h)return d().validPositions=t.extend(!0,{},a),p(!0),!1}else d().validPositions[e]=t.extend(!0,{},i);return p(!0),!0}function v(e,i,n,s){function o(t){var e=d().validPositions[t];if(void 0!==e&&null===e.match.fn){var i=d().validPositions[t-1],n=d().validPositions[t+1];return void 0!==i&&void 0!==n}return!1}var a,l=e,u=t.extend(!0,{},d().validPositions),h=!1;for(d().p=e,a=i-1;a>=l;a--)void 0!==d().validPositions[a]&&(n===!0||!o(a)&&r.canClearPosition(d(),a,f(),s,r)!==!1)&&delete d().validPositions[a];for(p(!0),a=l+1;a<=f();){for(;void 0!==d().validPositions[l];)l++;var c=d().validPositions[l];if(a<l&&(a=l+1),void 0===d().validPositions[a]&&I(a)||void 0!==c)a++;else{var m=y(a);h===!1&&u[l]&&u[l].match.def===m.match.def?(d().validPositions[l]=t.extend(!0,{},u[l]),d().validPositions[l].input=m.input,delete d().validPositions[a],a++):k(l,m.match.def)?A(l,m.input||R(a),!0)!==!1&&(delete d().validPositions[a],a++,h=!0):I(a)||(a++,l--),l++}}p(!0)}function g(t,e){for(var i,n=t,s=f(),o=d().validPositions[s]||w(0)[0],a=void 0!==o.alternation?o.locator[o.alternation].toString().split(","):[],l=0;l<n.length&&(i=n[l],!i.match||(!r.greedy&&!e||i.match.optionalQuantifier===!0)&&(i.match.optionality!==!1&&i.match.newBlockMarker!==!1||i.match.optionalQuantifier===!0)||!(void 0===o.alternation||o.alternation!==i.alternation||void 0!==i.locator[o.alternation]&&T(i.locator[o.alternation].toString().split(","),a)));l++);return i}function y(t,e,i){return d().validPositions[t]||g(w(t,e?e.slice():e,i))}function b(t){return d().validPositions[t]?d().validPositions[t]:w(t)[0]}function k(t,e){for(var i=!1,n=w(t),s=0;s<n.length;s++)if(n[s].match&&n[s].match.def===e){i=!0;break}return i}function C(e,i){var n,s;return(d().tests[e]||d().validPositions[e])&&t.each(d().tests[e]||[d().validPositions[e]],function(t,e){var o=e.alternation?e.locator[e.alternation].toString().indexOf(i):-1;(void 0===s||o<s)&&o!==-1&&(n=e,s=o)}),n}function w(e,i,n){function s(i,n,o,a){function u(o,a,c){function v(e,i){var n=0===t.inArray(e,i.matches);return n||t.each(i.matches,function(t,s){if(s.isQuantifier===!0&&(n=v(e,i.matches[t-1])))return!1}),n}function g(t,e){var i=C(t,e);return i?i.locator.slice(i.alternation+1):void 0}function y(t,i){return null===t.match.fn&&null!==i.match.fn&&i.match.fn.test(t.match.def,d(),e,!1,r,!1)}if(h>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+d().mask;if(h===e&&void 0===o.matches)return p.push({match:o,locator:a.reverse(),cd:m}),!0;if(void 0!==o.matches){if(o.isGroup&&c!==o){if(o=u(i.matches[t.inArray(o,i.matches)+1],a))return!0}else if(o.isOptional){var b=o;if(o=s(o,n,a,c)){if(l=p[p.length-1].match,!v(l,b))return!0;f=!0,h=e}}else if(o.isAlternator){var k,w=o,P=[],S=p.slice(),E=a.length,x=n.length>0?n.shift():-1;if(x===-1||"string"==typeof x){var T,A=h,I=n.slice(),O=[];if("string"==typeof x)O=x.split(",");else for(T=0;T<w.matches.length;T++)O.push(T);for(var D=0;D<O.length;D++){if(T=parseInt(O[D]),p=[],n=g(h,T)||I.slice(),o=u(w.matches[T]||i.matches[T],[T].concat(a),c)||o,o!==!0&&void 0!==o&&O[O.length-1]<w.matches.length){var M=t.inArray(o,i.matches)+1;i.matches.length>M&&(o=u(i.matches[M],[M].concat(a.slice(1,a.length)),c),o&&(O.push(M.toString()),t.each(p,function(t,e){e.alternation=a.length-1})))}k=p.slice(),h=A,p=[];for(var _=0;_<k.length;_++){var R=k[_],N=!1;R.alternation=R.alternation||E;for(var F=0;F<P.length;F++){var j=P[F];if(("string"!=typeof x||t.inArray(R.locator[R.alternation].toString(),O)!==-1)&&(R.match.def===j.match.def||y(R,j))){N=R.match.mask===j.match.mask,j.locator[R.alternation].toString().indexOf(R.locator[R.alternation])===-1&&(j.locator[R.alternation]=j.locator[R.alternation]+","+R.locator[R.alternation],j.alternation=R.alternation,null==R.match.fn&&(j.na=j.na||R.locator[R.alternation].toString(),j.na.indexOf(R.locator[R.alternation])===-1&&(j.na=j.na+","+R.locator[R.alternation])));break}}N||P.push(R)}}"string"==typeof x&&(P=t.map(P,function(e,i){if(isFinite(i)){var n,s=e.alternation,o=e.locator[s].toString().split(",");e.locator[s]=void 0,e.alternation=void 0;for(var r=0;r<o.length;r++)n=t.inArray(o[r],O)!==-1,n&&(void 0!==e.locator[s]?(e.locator[s]+=",",e.locator[s]+=o[r]):e.locator[s]=parseInt(o[r]),e.alternation=s);if(void 0!==e.locator[s])return e}})),p=S.concat(P),h=e,f=p.length>0,n=I.slice()}else o=u(w.matches[x]||i.matches[x],[x].concat(a),c);if(o)return!0}else if(o.isQuantifier&&c!==i.matches[t.inArray(o,i.matches)-1])for(var L=o,q=n.length>0?n.shift():0;q<(isNaN(L.quantifier.max)?q+1:L.quantifier.max)&&h<=e;q++){var z=i.matches[t.inArray(L,i.matches)-1];if(o=u(z,[q].concat(a),z)){if(l=p[p.length-1].match,l.optionalQuantifier=q>L.quantifier.min-1,v(l,z)){if(q>L.quantifier.min-1){f=!0,h=e;break}return!0}return!0}}else if(o=s(o,n,a,c))return!0}else h++}for(var c=n.length>0?n.shift():0;c<i.matches.length;c++)if(i.matches[c].isQuantifier!==!0){var v=u(i.matches[c],[c].concat(o),a);if(v&&h===e)return v;if(h>e)break}}function o(e){var i=[];return t.isArray(e)||(e=[e]),e.length>0&&(void 0===e[0].alternation?(i=g(e.slice()).locator.slice(),0===i.length&&(i=e[0].locator.slice())):t.each(e,function(t,e){if(""!==e.def)if(0===i.length)i=e.locator.slice();else for(var n=0;n<i.length;n++)e.locator[n]&&i[n].toString().indexOf(e.locator[n])===-1&&(i[n]+=","+e.locator[n])})),i}function a(t){return r.keepStatic&&e>0&&t.length>1+(""===t[t.length-1].match.def?1:0)&&t[0].match.optionality!==!0&&t[0].match.optionalQuantifier!==!0&&null===t[0].match.fn&&!/[0-9a-bA-Z]/.test(t[0].match.def)?[g(t)]:t}var l,u=d().maskToken,h=i?n:0,c=i?i.slice():[0],p=[],f=!1,m=i?i.join(""):"";if(e>-1){if(void 0===i){for(var v,y=e-1;void 0===(v=d().validPositions[y]||d().tests[y])&&y>-1;)y--;void 0!==v&&y>-1&&(c=o(v),m=c.join(""),h=y)}if(d().tests[e]&&d().tests[e][0].cd===m)return a(d().tests[e]);for(var b=c.shift();b<u.length;b++){var k=s(u[b],c,[b]);if(k&&h===e||h>e)break}}return(0===p.length||f)&&p.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:m}),void 0!==i&&d().tests[e]?a(t.extend(!0,[],p)):(d().tests[e]=t.extend(!0,[],p),a(d().tests[e]))}function P(){return void 0===d()._buffer&&(d()._buffer=l(!1,1),void 0===d().buffer&&d()._buffer.slice()),d()._buffer}function S(t){return void 0!==d().buffer&&t!==!0||(d().buffer=l(!0,f(),!0)),d().buffer}function E(t,e,i){var n;if(t===!0)p(),t=0,e=i.length;else for(n=t;n<e;n++)delete d().validPositions[n];for(n=t;n<e;n++)p(!0),i[n]!==r.skipOptionalPartCharacter&&A(n,i[n],!0,!0)}function x(t,i,n){switch(i.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var s=d().validPositions[n-1];t=0===n||s&&s.input===String.fromCharCode(e.keyCode.SPACE)?t.toUpperCase():t.toLowerCase()}return t}function T(e,i){for(var n=r.greedy?i:i.slice(0,1),s=!1,o=0;o<e.length;o++)if(t.inArray(e[o],n)!==-1){s=!0;break}return s}function A(i,n,s,o,a){function l(t){return ut?t.begin-t.end>1||t.begin-t.end===1&&r.insertMode:t.end-t.begin>1||t.end-t.begin===1&&r.insertMode}function u(e,n,s){var a=!1;return t.each(w(e),function(u,h){for(var c=h.match,g=n?1:0,y="",b=c.cardinality;b>g;b--)y+=M(e-(b-1));if(n&&(y+=n),S(!0),a=null!=c.fn?c.fn.test(y,d(),e,s,r,l(i)):(n===c.def||n===r.skipOptionalPartCharacter)&&""!==c.def&&{c:c.placeholder||c.def,pos:e},a!==!1){var k=void 0!==a.c?a.c:n;k=k===r.skipOptionalPartCharacter&&null===c.fn?c.placeholder||c.def:k;var C=e,w=S();if(void 0!==a.remove&&(t.isArray(a.remove)||(a.remove=[a.remove]),t.each(a.remove.sort(function(t,e){return e-t}),function(t,e){v(e,e+1,!0)})),void 0!==a.insert&&(t.isArray(a.insert)||(a.insert=[a.insert]),t.each(a.insert.sort(function(t,e){return t-e}),function(t,e){A(e.pos,e.c,!1,o)})),a.refreshFromBuffer){var P=a.refreshFromBuffer;if(s=!0,E(P===!0?P:P.start,P.end,w),void 0===a.pos&&void 0===a.c)return a.pos=f(),!1;if(C=void 0!==a.pos?a.pos:e,C!==e)return a=t.extend(a,A(C,k,!0,o)),!1}else if(a!==!0&&void 0!==a.pos&&a.pos!==e&&(C=a.pos,E(e,C,S().slice()),C!==e))return a=t.extend(a,A(C,k,!0)),!1;return(a===!0||void 0!==a.pos||void 0!==a.c)&&(u>0&&p(!0),m(C,t.extend({},h,{input:x(k,c,C)}),o,l(i))||(a=!1),!1)}}),a}function h(e,i,n){var s,a,l,u,h,c,m,v,g=t.extend(!0,{},d().validPositions),y=!1,b=f();for(u=d().validPositions[b];b>=0;b--)if(l=d().validPositions[b],l&&void 0!==l.alternation){if(s=b,a=d().validPositions[s].alternation,u.locator[l.alternation]!==l.locator[l.alternation])break;u=l}if(void 0!==a){v=parseInt(s);var k=void 0!==u.locator[u.alternation||a]?u.locator[u.alternation||a]:m[0];k.length>0&&(k=k.split(",")[0]);var C=d().validPositions[v],P=d().validPositions[v-1];t.each(w(v,P?P.locator:void 0,v-1),function(s,l){m=l.locator[a]?l.locator[a].toString().split(","):[];for(var u=0;u<m.length;u++){var b=[],w=0,P=0,S=!1;if(k<m[u]&&(void 0===l.na||t.inArray(m[u],l.na.split(","))===-1)){d().validPositions[v]=t.extend(!0,{},l);var E=d().validPositions[v].locator;for(d().validPositions[v].locator[a]=parseInt(m[u]),null==l.match.fn?(C.input!==l.match.def&&(S=!0,C.generatedInput!==!0&&b.push(C.input)),P++,d().validPositions[v].generatedInput=!/[0-9a-bA-Z]/.test(l.match.def),d().validPositions[v].input=l.match.def):d().validPositions[v].input=C.input,h=v+1;h<f(void 0,!0)+1;h++)c=d().validPositions[h],c&&c.generatedInput!==!0&&/[0-9a-bA-Z]/.test(c.input)?b.push(c.input):h<e&&w++,delete d().validPositions[h];for(S&&b[0]===l.match.def&&b.shift(),p(!0),y=!0;b.length>0;){var x=b.shift();if(x!==r.skipOptionalPartCharacter&&!(y=A(f(void 0,!0)+1,x,!1,o,!0)))break}if(y){d().validPositions[v].locator=E;var T=f(e)+1;for(h=v+1;h<f()+1;h++)c=d().validPositions[h],(void 0===c||null==c.match.fn)&&h<e+(P-w)&&P++;e+=P-w,y=A(e>T?T:e,i,n,o,!0)}if(y)return!1;p(),d().validPositions=t.extend(!0,{},g)}}})}return y}function c(e,i){for(var n=d().validPositions[i],s=n.locator,o=s.length,r=e;r<i;r++)if(void 0===d().validPositions[r]&&!I(r,!0)){var a=w(r),l=a[0],u=-1;t.each(a,function(t,e){for(var i=0;i<o&&void 0!==e.locator[i]&&T(e.locator[i].toString().split(","),s[i].toString().split(","));i++)u<i&&(u=i,l=e)}),m(r,t.extend({},l,{input:l.match.placeholder||l.match.def}),!0)}}s=s===!0;var b=i;void 0!==i.begin&&(b=ut&&!l(i)?i.end:i.begin);for(var k=!1,C=t.extend(!0,{},d().validPositions),P=b-1;P>-1&&!d().validPositions[P];P--);var D;for(P++;P<b;P++)void 0===d().validPositions[P]&&(r.jitMasking===!1||r.jitMasking>P)&&((D=y(P,y(P-1).locator,P-1)).match.def===r.radixPointDefinitionSymbol||!I(P,!0)||t.inArray(r.radixPoint,S())<P&&D.match.fn&&D.match.fn.test(R(P),d(),P,!1,r))&&(k=u(P,D.match.placeholder||(null==D.match.fn?D.match.def:""!==R(P)?R(P):S()[P]),!0),k!==!1&&(d().validPositions[k.pos||P].generatedInput=!0));if(l(i)&&(G(void 0,e.keyCode.DELETE,i),b=d().p),b<d().maskLength&&(k=u(b,n,s),(!s||o===!0)&&k===!1)){var _=d().validPositions[b];if(!_||null!==_.match.fn||_.match.def!==n&&n!==r.skipOptionalPartCharacter){if((r.insertMode||void 0===d().validPositions[O(b)])&&!I(b,!0)){var N=w(b).slice();""===N[N.length-1].match.def&&N.pop();var F=g(N,!0);F&&(F=F.match.placeholder||F.match.def,u(b,F,s));for(var j=b+1,L=O(b);j<=L;j++)if(k=u(j,n,s),k!==!1){c(b,j),b=j;break}}}else k={caret:O(b)}}return k===!1&&r.keepStatic&&!s&&a!==!0&&(k=h(b,n,s)),k===!0&&(k={pos:b}),t.isFunction(r.postValidation)&&k!==!1&&!s&&o!==!0&&(k=!!r.postValidation(S(!0),k,r)&&k),void 0===k.pos&&(k.pos=b),k===!1&&(p(!0),d().validPositions=t.extend(!0,{},C)),k}function I(t,e){var i;if(e?(i=y(t).match,""===i.def&&(i=b(t).match)):i=b(t).match,null!=i.fn)return i.fn;if(e!==!0&&t>-1){var n=w(t);return n.length>1+(""===n[n.length-1].match.def?1:0)}return!1}function O(t,e){var i=d().maskLength;if(t>=i)return i;for(var n=t;++n<i&&(e===!0&&(b(n).match.newBlockMarker!==!0||!I(n))||e!==!0&&!I(n)););return n}function D(t,e){var i,n=t;if(n<=0)return 0;for(;--n>0&&(e===!0&&b(n).match.newBlockMarker!==!0||e!==!0&&!I(n)&&(i=w(n),i.length<2||2===i.length&&""===i[1].match.def)););return n}function M(t){return void 0===d().validPositions[t]?R(t):d().validPositions[t].input}function _(e,i,n,s,o){if(s&&t.isFunction(r.onBeforeWrite)){var a=r.onBeforeWrite(s,i,n,r);if(a){if(a.refreshFromBuffer){var l=a.refreshFromBuffer;E(l===!0?l:l.start,l.end,a.buffer||i),i=S(!0)}void 0!==n&&(n=void 0!==a.caret?a.caret:n)}}e.inputmask._valueSet(i.join("")),void 0===n||void 0!==s&&"blur"===s.type||j(e,n),o===!0&&(ct=!0,t(e).trigger("input"))}function R(t,e){if(e=e||b(t).match,void 0!==e.placeholder)return e.placeholder;if(null===e.fn){if(t>-1&&void 0===d().validPositions[t]){var i,n=w(t),s=[];if(n.length>1+(""===n[n.length-1].match.def?1:0))for(var o=0;o<n.length;o++)if(n[o].match.optionality!==!0&&n[o].match.optionalQuantifier!==!0&&(null===n[o].match.fn||void 0===i||n[o].match.fn.test(i.match.def,d(),t,!0,r)!==!1)&&(s.push(n[o]),null===n[o].match.fn&&(i=n[o]),s.length>1&&/[0-9a-bA-Z]/.test(s[0].match.def)))return r.placeholder.charAt(t%r.placeholder.length)}return e.def}return r.placeholder.charAt(t%r.placeholder.length)}function N(i,n,s,o,a){function l(){var t=!1,e=P().slice(c,O(c)).join("").indexOf(h);if(e!==-1&&!I(c)){t=!0;for(var i=P().slice(c,c+e),n=0;n<i.length;n++)if(" "!==i[n]){t=!1;break}}return t}var u=o.slice(),h="",c=0,m=void 0;if(p(),d().p=O(-1),!s)if(r.autoUnmask!==!0){var v=P().slice(0,O(-1)).join(""),g=u.join("").match(new RegExp("^"+e.escapeRegex(v),"g"));g&&g.length>0&&(u.splice(0,g.length*v.length),c=O(c))}else c=O(c);if(t.each(u,function(e,n){if(void 0!==n){var o=new t.Event("keypress");o.which=n.charCodeAt(0),h+=n;var a=f(void 0,!0),u=d().validPositions[a],v=y(a+1,u?u.locator.slice():void 0,a);if(!l()||s||r.autoUnmask){var g=s?e:null==v.match.fn&&v.match.optionality&&a+1<d().p?a+1:d().p;m=V.call(i,o,!0,!1,s,g),c=g+1,h=""}else m=V.call(i,o,!0,!1,!0,a+1);if(!s&&t.isFunction(r.onBeforeWrite)&&(m=r.onBeforeWrite(o,S(),m.forwardPosition,r),m&&m.refreshFromBuffer)){var b=m.refreshFromBuffer;E(b===!0?b:b.start,b.end,m.buffer),p(!0),m.caret&&(d().p=m.caret)}}}),n){var b=document.activeElement===i&&(a||m)?a?j(i).begin:m.forwardPosition:void 0,k=S().length-i.inputmask._valueGet().length;_(i,S(),b+k,a||new t.Event("checkval"))}}function F(e){if(e&&void 0===e.inputmask)return e.value;var i=[],n=d().validPositions;for(var s in n)n[s].match&&null!=n[s].match.fn&&i.push(n[s].input);var o=0===i.length?"":(ut?i.reverse():i).join("");if(t.isFunction(r.onUnMask)){var a=(ut?S().slice().reverse():S()).join("");o=r.onUnMask(a,o,r)||o}return o}function j(t,e,i,n){function s(t){if(n!==!0&&ut&&"number"==typeof t&&(!r.greedy||""!==r.placeholder)){var e=S().join("").length;t=e-t}return t}var o;if("number"!=typeof e)return t.setSelectionRange?(e=t.selectionStart,i=t.selectionEnd):window.getSelection?(o=window.getSelection().getRangeAt(0),o.commonAncestorContainer.parentNode!==t&&o.commonAncestorContainer!==t||(e=o.startOffset,i=o.endOffset)):document.selection&&document.selection.createRange&&(o=document.selection.createRange(),e=0-o.duplicate().moveStart("character",-t.inputmask._valueGet().length),i=e+o.text.length),{begin:s(e),end:s(i)};e=s(e),i=s(i),i="number"==typeof i?i:e;var a=parseInt(((t.ownerDocument.defaultView||window).getComputedStyle?(t.ownerDocument.defaultView||window).getComputedStyle(t,null):t.currentStyle).fontSize)*i;if(t.scrollLeft=a>t.scrollWidth?a:0,u||r.insertMode!==!1||e!==i||i++,t.setSelectionRange)t.selectionStart=e,t.selectionEnd=i;else if(window.getSelection){if(o=document.createRange(),void 0===t.firstChild||null===t.firstChild){var l=document.createTextNode("");t.appendChild(l)}o.setStart(t.firstChild,e<t.inputmask._valueGet().length?e:t.inputmask._valueGet().length),o.setEnd(t.firstChild,i<t.inputmask._valueGet().length?i:t.inputmask._valueGet().length),o.collapse(!0);var h=window.getSelection();h.removeAllRanges(),h.addRange(o)}else t.createTextRange&&(o=t.createTextRange(),o.collapse(!0),o.moveEnd("character",i),o.moveStart("character",e),o.select())}function L(e){var i,n,s=S(),o=s.length,r=f(),a={},l=d().validPositions[r],u=void 0!==l?l.locator.slice():void 0;for(i=r+1;i<s.length;i++)n=y(i,u,i-1),u=n.locator.slice(),a[i]=t.extend(!0,{},n);var h=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(i=o-1;i>r&&(n=a[i],(n.match.optionality||n.match.optionalQuantifier||h&&(h!==a[i].locator[l.alternation]&&null!=n.match.fn||null===n.match.fn&&n.locator[l.alternation]&&T(n.locator[l.alternation].toString().split(","),h.toString().split(","))&&""!==w(i)[0].def))&&s[i]===R(i,n.match));i--)o--;return e?{l:o,def:a[o]?a[o].match:void 0}:o}function q(t){for(var e=L(),i=t.length-1;i>e&&!I(i);i--);return t.splice(e,i+1-e),t}function z(e){if(t.isFunction(r.isComplete))return r.isComplete(e,r);if("*"!==r.repeat){var i=!1,n=L(!0),s=D(n.l);if(void 0===n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){i=!0;for(var o=0;o<=s;o++){var a=y(o).match;if(null!==a.fn&&void 0===d().validPositions[o]&&a.optionality!==!0&&a.optionalQuantifier!==!0||null===a.fn&&e[o]!==R(o,a)){i=!1;break}}}return i}}function B(e){function i(e){if(t.valHooks&&(void 0===t.valHooks[e]||t.valHooks[e].inputmaskpatch!==!0)){var i=t.valHooks[e]&&t.valHooks[e].get?t.valHooks[e].get:function(t){return t.value},n=t.valHooks[e]&&t.valHooks[e].set?t.valHooks[e].set:function(t,e){return t.value=e,t};t.valHooks[e]={get:function(t){if(t.inputmask){if(t.inputmask.opts.autoUnmask)return t.inputmask.unmaskedvalue();var e=i(t);return f(void 0,void 0,t.inputmask.maskset.validPositions)!==-1||r.nullable!==!0?e:""}return i(t)},set:function(e,i){var s,o=t(e);return s=n(e,i),e.inputmask&&o.trigger("setvalue"),s},inputmaskpatch:!0}}}function n(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():f()!==-1||r.nullable!==!0?document.activeElement===this&&r.clearMaskOnLostFocus?(ut?q(S().slice()).reverse():q(S().slice())).join(""):a.call(this):"":a.call(this)}function s(e){l.call(this,e),this.inputmask&&t(this).trigger("setvalue")}function o(e){ft.on(e,"mouseenter",function(e){var i=t(this),n=this,s=n.inputmask._valueGet();s!==S().join("")&&i.trigger("setvalue")})}var a,l;if(!e.inputmask.__valueGet){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(t){return t.__proto__}:function(t){return t.constructor.prototype});var u=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"):void 0;u&&u.get&&u.set?(a=u.get,l=u.set,Object.defineProperty(e,"value",{get:n,set:s,configurable:!0})):"INPUT"!==e.tagName&&(a=function(){return this.textContent},l=function(t){this.textContent=t},Object.defineProperty(e,"value",{get:n,set:s,configurable:!0}))}else document.__lookupGetter__&&e.__lookupGetter__("value")&&(a=e.__lookupGetter__("value"),l=e.__lookupSetter__("value"),e.__defineGetter__("value",n),e.__defineSetter__("value",s));e.inputmask.__valueGet=a,e.inputmask._valueGet=function(t){return ut&&t!==!0?a.call(this.el).split("").reverse().join(""):a.call(this.el)},e.inputmask.__valueSet=l,e.inputmask._valueSet=function(t,e){l.call(this.el,null===t||void 0===t?"":e!==!0&&ut?t.split("").reverse().join(""):t)},void 0===a&&(a=function(){return this.value},l=function(t){this.value=t},i(e.type),o(e))}}function G(i,n,s,o){function a(){if(r.keepStatic){for(var e=[],n=f(-1,!0),s=t.extend(!0,{},d().validPositions),o=d().validPositions[n];n>=0;n--){var a=d().validPositions[n];if(a){if(/[0-9a-bA-Z]/.test(a.input)&&e.push(a.input),delete d().validPositions[n],void 0!==a.alternation&&a.locator[a.alternation]!==o.locator[a.alternation])break;o=a}}if(n>-1)for(d().p=O(f(-1,!0));e.length>0;){var l=new t.Event("keypress");l.which=e.pop().charCodeAt(0),V.call(i,l,!0,!1,!1,d().p)}else d().validPositions=t.extend(!0,{},s)}}if((r.numericInput||ut)&&(n===e.keyCode.BACKSPACE?n=e.keyCode.DELETE:n===e.keyCode.DELETE&&(n=e.keyCode.BACKSPACE),ut)){var l=s.end;s.end=s.begin,s.begin=l}n===e.keyCode.BACKSPACE&&(s.end-s.begin<1||r.insertMode===!1)?(s.begin=D(s.begin),void 0===d().validPositions[s.begin]||d().validPositions[s.begin].input!==r.groupSeparator&&d().validPositions[s.begin].input!==r.radixPoint||s.begin--):n===e.keyCode.DELETE&&s.begin===s.end&&(s.end=I(s.end,!0)?s.end+1:O(s.end)+1,void 0===d().validPositions[s.begin]||d().validPositions[s.begin].input!==r.groupSeparator&&d().validPositions[s.begin].input!==r.radixPoint||s.end++),v(s.begin,s.end,!1,o),o!==!0&&a();var u=f(s.begin,!0);u<s.begin?d().p=O(u):o!==!0&&(d().p=s.begin)}function H(n){var s=this,o=t(s),a=n.keyCode,l=j(s);if(a===e.keyCode.BACKSPACE||a===e.keyCode.DELETE||c&&a===e.keyCode.BACKSPACE_SAFARI||n.ctrlKey&&a===e.keyCode.X&&!i("cut"))n.preventDefault(),G(s,a,l),_(s,S(!0),d().p,n,s.inputmask._valueGet()!==S().join("")),s.inputmask._valueGet()===P().join("")?o.trigger("cleared"):z(S())===!0&&o.trigger("complete"),r.showTooltip&&(s.title=r.tooltip||d().mask);else if(a===e.keyCode.END||a===e.keyCode.PAGE_DOWN){n.preventDefault();var u=O(f());r.insertMode||u!==d().maskLength||n.shiftKey||u--,j(s,n.shiftKey?l.begin:u,u,!0)}else a===e.keyCode.HOME&&!n.shiftKey||a===e.keyCode.PAGE_UP?(n.preventDefault(),j(s,0,n.shiftKey?l.begin:0,!0)):(r.undoOnEscape&&a===e.keyCode.ESCAPE||90===a&&n.ctrlKey)&&n.altKey!==!0?(N(s,!0,!1,st.split("")),o.trigger("click")):a!==e.keyCode.INSERT||n.shiftKey||n.ctrlKey?r.tabThrough===!0&&a===e.keyCode.TAB?(n.shiftKey===!0?(null===b(l.begin).match.fn&&(l.begin=O(l.begin)),l.end=D(l.begin,!0),l.begin=D(l.end,!0)):(l.begin=O(l.begin,!0),l.end=O(l.begin,!0),l.end<d().maskLength&&l.end--),l.begin<d().maskLength&&(n.preventDefault(),j(s,l.begin,l.end))):r.insertMode!==!1||n.shiftKey||(a===e.keyCode.RIGHT?setTimeout(function(){var t=j(s);j(s,t.begin)},0):a===e.keyCode.LEFT&&setTimeout(function(){var t=j(s);j(s,ut?t.begin+1:t.begin-1)},0)):(r.insertMode=!r.insertMode,j(s,r.insertMode||l.begin!==d().maskLength?l.begin:l.begin-1));r.onKeyDown.call(this,n,S(),j(s).begin,r),dt=t.inArray(a,r.ignorables)!==-1}function V(i,n,s,o,a){var l=this,u=t(l),h=i.which||i.charCode||i.keyCode;if(!(n===!0||i.ctrlKey&&i.altKey)&&(i.ctrlKey||i.metaKey||dt))return h===e.keyCode.ENTER&&st!==S().join("")&&(st=S().join(""),setTimeout(function(){u.trigger("change")},0)),!0;if(h){46===h&&i.shiftKey===!1&&","===r.radixPoint&&(h=44);var c,f=n?{begin:a,end:a}:j(l),m=String.fromCharCode(h);d().writeOutBuffer=!0;var v=A(f,m,o);if(v!==!1&&(p(!0),c=void 0!==v.caret?v.caret:n?v.pos+1:O(v.pos),d().p=c),s!==!1){var g=this;if(setTimeout(function(){r.onKeyValidation.call(g,h,v,r)},0),d().writeOutBuffer&&v!==!1){var y=S();_(l,y,r.numericInput&&void 0===v.caret?D(c):c,i,n!==!0),n!==!0&&setTimeout(function(){z(y)===!0&&u.trigger("complete")},0)}}if(r.showTooltip&&(l.title=r.tooltip||d().mask),i.preventDefault(),n)return v.forwardPosition=c,v}}function W(e){var i,n=this,s=e.originalEvent||e,o=t(n),a=n.inputmask._valueGet(!0),l=j(n);ut&&(i=l.end,l.end=l.begin,l.begin=i);var u=a.substr(0,l.begin),h=a.substr(l.end,a.length);u===(ut?P().reverse():P()).slice(0,l.begin).join("")&&(u=""),h===(ut?P().reverse():P()).slice(l.end).join("")&&(h=""),ut&&(i=u,u=h,h=i),window.clipboardData&&window.clipboardData.getData?a=u+window.clipboardData.getData("Text")+h:s.clipboardData&&s.clipboardData.getData&&(a=u+s.clipboardData.getData("text/plain")+h);var c=a;if(t.isFunction(r.onBeforePaste)){if(c=r.onBeforePaste(a,r),c===!1)return e.preventDefault();c||(c=a)}return N(n,!1,!1,ut?c.split("").reverse():c.toString().split("")),_(n,S(),O(f()),e,st!==S().join("")),z(S())===!0&&o.trigger("complete"),e.preventDefault()}function Y(i){var n=this,s=n.inputmask._valueGet();if(S().join("")!==s){var o=j(n);if(s=s.replace(new RegExp("("+e.escapeRegex(P().join(""))+")*"),""),h){var r=s.replace(S().join(""),"");if(1===r.length){var a=new t.Event("keypress");return a.which=r.charCodeAt(0),V.call(n,a,!0,!0,!1,d().validPositions[o.begin-1]?o.begin:o.begin-1),!1}}if(o.begin>s.length&&(j(n,s.length),o=j(n)),S().length-s.length!==1||s.charAt(o.begin)===S()[o.begin]||s.charAt(o.begin+1)===S()[o.begin]||I(o.begin)){for(var l=f()+1,u=S().slice(l).join("");null===s.match(e.escapeRegex(u)+"$");)u=u.slice(1);s=s.replace(u,""),s=s.split(""),N(n,!0,!1,s,i),z(S())===!0&&t(n).trigger("complete")}else i.keyCode=e.keyCode.BACKSPACE,H.call(n,i);i.preventDefault()}}function U(e){var i=this,n=i.inputmask._valueGet();N(i,!0,!1,(t.isFunction(r.onBeforeMask)?r.onBeforeMask(n,r)||n:n).split("")),st=S().join(""),(r.clearMaskOnLostFocus||r.clearIncomplete)&&i.inputmask._valueGet()===P().join("")&&i.inputmask._valueSet("")}function X(t){var e=this,i=e.inputmask._valueGet();r.showMaskOnFocus&&(!r.showMaskOnHover||r.showMaskOnHover&&""===i)?e.inputmask._valueGet()!==S().join("")&&_(e,S(),O(f())):pt===!1&&j(e,O(f())),r.positionCaretOnTab===!0&&setTimeout(function(){Q.apply(this,[t])},0),st=S().join("")}function K(t){var e=this;if(pt=!1,r.clearMaskOnLostFocus&&document.activeElement!==e){var i=S().slice(),n=e.inputmask._valueGet();n!==e.getAttribute("placeholder")&&""!==n&&(f()===-1&&n===P().join("")?i=[]:q(i),_(e,i))}}function Q(e){function i(e){if(""!==r.radixPoint){var i=d().validPositions;if(void 0===i[e]||i[e].input===R(e)){if(e<O(-1))return!0;var n=t.inArray(r.radixPoint,S());if(n!==-1){for(var s in i)if(n<s&&i[s].input!==R(s))return!1;return!0}}}return!1}var n=this;setTimeout(function(){if(document.activeElement===n){var e=j(n);if(e.begin===e.end)switch(r.positionCaretOnClick){case"none":break;case"radixFocus":if(i(e.begin)){j(n,r.numericInput?O(t.inArray(r.radixPoint,S())):t.inArray(r.radixPoint,S()));break}default:var s=e.begin,o=f(s,!0),a=O(o);if(s<a)j(n,I(s)||I(s-1)?s:O(s));else{var l=R(a);(""!==l&&S()[a]!==l&&b(a).match.optionalQuantifier!==!0||!I(a,!0)&&b(a).match.def===l)&&(a=O(a)),j(n,a)}}}},0)}function $(t){var e=this;setTimeout(function(){j(e,0,O(f()))},0)}function Z(i){var n=this,s=t(n),o=j(n),a=i.originalEvent||i,l=window.clipboardData||a.clipboardData,u=ut?S().slice(o.end,o.begin):S().slice(o.begin,o.end);l.setData("text",ut?u.reverse().join(""):u.join("")),document.execCommand&&document.execCommand("copy"),G(n,e.keyCode.DELETE,o),_(n,S(),d().p,i,st!==S().join("")),n.inputmask._valueGet()===P().join("")&&s.trigger("cleared"),r.showTooltip&&(n.title=r.tooltip||d().mask)}function J(e){var i=t(this),n=this;if(n.inputmask){var s=n.inputmask._valueGet(),o=S().slice();st!==o.join("")&&setTimeout(function(){i.trigger("change"),st=o.join("")},0),""!==s&&(r.clearMaskOnLostFocus&&(f()===-1&&s===P().join("")?o=[]:q(o)),z(o)===!1&&(setTimeout(function(){i.trigger("incomplete")},0),r.clearIncomplete&&(p(),o=r.clearMaskOnLostFocus?[]:P().slice())),_(n,o,void 0,e))}}function tt(t){var e=this;pt=!0,document.activeElement!==e&&r.showMaskOnHover&&e.inputmask._valueGet()!==S().join("")&&_(e,S())}function et(t){st!==S().join("")&&rt.trigger("change"),r.clearMaskOnLostFocus&&f()===-1&&ot.inputmask._valueGet&&ot.inputmask._valueGet()===P().join("")&&ot.inputmask._valueSet(""),r.removeMaskOnSubmit&&(ot.inputmask._valueSet(ot.inputmask.unmaskedvalue(),!0),setTimeout(function(){_(ot,S())},0))}function it(t){setTimeout(function(){rt.trigger("setvalue")},0)}function nt(e){if(ot=e,rt=t(ot),r.showTooltip&&(ot.title=r.tooltip||d().mask),("rtl"===ot.dir||r.rightAlign)&&(ot.style.textAlign="right"),("rtl"===ot.dir||r.numericInput)&&(ot.dir="ltr",ot.removeAttribute("dir"),ot.inputmask.isRTL=!0,ut=!0),ft.off(ot),B(ot),n(ot,r)&&(ft.on(ot,"submit",et),ft.on(ot,"reset",it),ft.on(ot,"mouseenter",tt),ft.on(ot,"blur",J),ft.on(ot,"focus",X),ft.on(ot,"mouseleave",K),ft.on(ot,"click",Q),ft.on(ot,"dblclick",$),ft.on(ot,"paste",W),ft.on(ot,"dragdrop",W),ft.on(ot,"drop",W),ft.on(ot,"cut",Z),ft.on(ot,"complete",r.oncomplete),ft.on(ot,"incomplete",r.onincomplete),ft.on(ot,"cleared",r.oncleared),r.inputEventOnly!==!0&&(ft.on(ot,"keydown",H),ft.on(ot,"keypress",V)),ft.on(ot,"input",Y)),ft.on(ot,"setvalue",U),P(),""!==ot.inputmask._valueGet()||r.clearMaskOnLostFocus===!1||document.activeElement===ot){var i=t.isFunction(r.onBeforeMask)?r.onBeforeMask(ot.inputmask._valueGet(),r)||ot.inputmask._valueGet():ot.inputmask._valueGet();N(ot,!0,!1,i.split(""));var s=S().slice();st=s.join(""),z(s)===!1&&r.clearIncomplete&&p(),r.clearMaskOnLostFocus&&document.activeElement!==ot&&(f()===-1?s=[]:q(s)),_(ot,s),document.activeElement===ot&&j(ot,O(f()))}}var st,ot,rt,at,lt,ut=!1,ht=!1,ct=!1,dt=!1,pt=!0,ft={on:function(i,n,s){var o=function(i){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var n=t.data(this,"_inputmask_opts");n?new e(n).mask(this):ft.off(this)}else{if("setvalue"===i.type||!(this.disabled||this.readOnly&&!("keydown"===i.type&&i.ctrlKey&&67===i.keyCode||r.tabThrough===!1&&i.keyCode===e.keyCode.TAB))){switch(i.type){case"input":if(ct===!0)return ct=!1,i.preventDefault();break;case"keydown":ht=!1,ct=!1;break;case"keypress":if(ht===!0)return i.preventDefault();ht=!0;break;case"click":if(h){var o=this;return setTimeout(function(){s.apply(o,arguments)},0),!1}}var a=s.apply(this,arguments);return a===!1&&(i.preventDefault(),i.stopPropagation()),a}i.preventDefault()}};i.inputmask.events[n]=i.inputmask.events[n]||[],i.inputmask.events[n].push(o),t.inArray(n,["submit","reset"])!==-1?null!=i.form&&t(i.form).on(n,o):t(i).on(n,o)},off:function(e,i){if(e.inputmask&&e.inputmask.events){var n;i?(n=[],n[i]=e.inputmask.events[i]):n=e.inputmask.events,t.each(n,function(i,n){for(;n.length>0;){var s=n.pop();t.inArray(i,["submit","reset"])!==-1?null!=e.form&&t(e.form).off(i,s):t(e).off(i,s)}delete e.inputmask.events[i]})}}};if(void 0!==s)switch(s.action){case"isComplete":return ot=s.el,z(S());case"unmaskedvalue":return ot=s.el,void 0!==ot&&void 0!==ot.inputmask?(o=ot.inputmask.maskset,r=ot.inputmask.opts,ut=ot.inputmask.isRTL):(lt=s.value,r.numericInput&&(ut=!0),lt=(t.isFunction(r.onBeforeMask)?r.onBeforeMask(lt,r)||lt:lt).split(""),N(void 0,!1,!1,ut?lt.reverse():lt),t.isFunction(r.onBeforeWrite)&&r.onBeforeWrite(void 0,S(),0,r)),F(ot);case"mask":ot=s.el,o=ot.inputmask.maskset,r=ot.inputmask.opts,ut=ot.inputmask.isRTL,nt(ot);break;case"format":return r.numericInput&&(ut=!0),lt=(t.isFunction(r.onBeforeMask)?r.onBeforeMask(s.value,r)||s.value:s.value).split(""),N(void 0,!1,!1,ut?lt.reverse():lt),t.isFunction(r.onBeforeWrite)&&r.onBeforeWrite(void 0,S(),0,r),s.metadata?{value:ut?S().slice().reverse().join(""):S().join(""),metadata:a({action:"getmetadata"},o,r)}:ut?S().slice().reverse().join(""):S().join("");case"isValid":r.numericInput&&(ut=!0),s.value?(lt=s.value.split(""),N(void 0,!1,!0,ut?lt.reverse():lt)):s.value=S().join("");for(var mt=S(),vt=L(),gt=mt.length-1;gt>vt&&!I(gt);gt--);return mt.splice(vt,gt+1-vt),z(mt)&&s.value===S().join("");case"getemptymask":return P().join("");case"remove":ot=s.el,rt=t(ot),o=ot.inputmask.maskset,r=ot.inputmask.opts,ot.inputmask._valueSet(F(ot)),ft.off(ot);var yt;Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?(yt=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ot),"value"),yt&&ot.inputmask.__valueGet&&Object.defineProperty(ot,"value",{get:ot.inputmask.__valueGet,set:ot.inputmask.__valueSet,configurable:!0})):document.__lookupGetter__&&ot.__lookupGetter__("value")&&ot.inputmask.__valueGet&&(ot.__defineGetter__("value",ot.inputmask.__valueGet),ot.__defineSetter__("value",ot.inputmask.__valueSet)),ot.inputmask=void 0;break;case"getmetadata":if(t.isArray(o.metadata)){for(var bt,kt=f(void 0,!0),Ct=kt;Ct>=0;Ct--)if(d().validPositions[Ct]&&void 0!==d().validPositions[Ct].alternation){bt=d().validPositions[Ct].alternation;break}return void 0!==bt?o.metadata[d().validPositions[Ct].locator[bt]]:[]}return o.metadata}}e.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:t.noop,onincomplete:t.noop,oncleared:t.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,
insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:t.noop,onBeforeMask:null,onBeforePaste:function(e,i){return t.isFunction(i.onBeforeMask)?i.onBeforeMask(e,i):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:t.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:t.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,positionCaretOnClick:"lvp"},masksCache:{},mask:function(i){var n=this;return"string"==typeof i&&(i=document.getElementById(i)||document.querySelectorAll(i)),i=i.nodeName?[i]:i,t.each(i,function(i,s){var l=t.extend(!0,{},n.opts);o(s,l,t.extend(!0,{},n.userOptions));var u=r(l,n.noMasksCache);void 0!==u&&(void 0!==s.inputmask&&s.inputmask.remove(),s.inputmask=new e,s.inputmask.opts=l,s.inputmask.noMasksCache=n.noMasksCache,s.inputmask.userOptions=t.extend(!0,{},n.userOptions),s.inputmask.el=s,s.inputmask.maskset=u,s.inputmask.isRTL=!1,t.data(s,"_inputmask_opts",l),a({action:"mask",el:s}))}),i&&i[0]?i[0].inputmask||this:this},option:function(e,i){return"string"==typeof e?this.opts[e]:"object"==typeof e?(t.extend(this.userOptions,e),this.el&&i!==!0&&this.mask(this.el),this):void 0},unmaskedvalue:function(t){return a({action:"unmaskedvalue",el:this.el,value:t},this.el&&this.el.inputmask?this.el.inputmask.maskset:r(this.opts,this.noMasksCache),this.opts)},remove:function(){if(this.el)return a({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el},getemptymask:function(){return a({action:"getemptymask"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return a({action:"isComplete",el:this.el},this.maskset||r(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return a({action:"getmetadata"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},isValid:function(t){return a({action:"isValid",value:t},this.maskset||r(this.opts,this.noMasksCache),this.opts)},format:function(t,e){return a({action:"format",value:t,metadata:e},this.maskset||r(this.opts,this.noMasksCache),this.opts)}},e.extendDefaults=function(i){t.extend(!0,e.prototype.defaults,i)},e.extendDefinitions=function(i){t.extend(!0,e.prototype.defaults.definitions,i)},e.extendAliases=function(i){t.extend(!0,e.prototype.defaults.aliases,i)},e.format=function(t,i,n){return e(i).format(t,n)},e.unmask=function(t,i){return e(i).unmaskedvalue(t)},e.isValid=function(t,i){return e(i).isValid(t)},e.remove=function(e){t.each(e,function(t,e){e.inputmask&&e.inputmask.remove()})},e.escapeRegex=function(t){var e=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return t.replace(new RegExp("(\\"+e.join("|\\")+")","gim"),"\\$1")},e.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88};var l=navigator.userAgent,u=/mobile/i.test(l),h=/iemobile/i.test(l),c=/iphone/i.test(l)&&!h;return window.Inputmask=e,e}),!function(t){"function"==typeof define&&define.amd?define(["inputmask.dependencyLib","inputmask"],t):"object"==typeof exports?module.exports=t(require("./inputmask.dependencyLib.jquery"),require("./inputmask")):t(window.dependencyLib||jQuery,window.Inputmask)}(function(t,e){return e.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(t,e){return new RegExp(e.regex).test(t.join(""))},definitions:{r:{validator:function(e,i,n,s,o){function r(t,e){this.matches=[],this.isGroup=t||!1,this.isQuantifier=e||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function a(){var t,e,i=new r,n=[];for(o.regexTokens=[];t=o.tokenizer.exec(o.regex);)switch(e=t[0],e.charAt(0)){case"(":n.push(new r((!0)));break;case")":h=n.pop(),n.length>0?n[n.length-1].matches.push(h):i.matches.push(h);break;case"{":case"+":case"*":var s=new r((!1),(!0));e=e.replace(/[{}]/g,"");var a=e.split(","),l=isNaN(a[0])?a[0]:parseInt(a[0]),u=1===a.length?l:isNaN(a[1])?a[1]:parseInt(a[1]);if(s.quantifier={min:l,max:u},n.length>0){var c=n[n.length-1].matches;t=c.pop(),t.isGroup||(h=new r((!0)),h.matches.push(t),t=h),c.push(t),c.push(s)}else t=i.matches.pop(),t.isGroup||(h=new r((!0)),h.matches.push(t),t=h),i.matches.push(t),i.matches.push(s);break;default:n.length>0?n[n.length-1].matches.push(e):i.matches.push(e)}i.matches.length>0&&o.regexTokens.push(i)}function l(e,i){var n=!1;i&&(d+="(",f++);for(var s=0;s<e.matches.length;s++){var o=e.matches[s];if(o.isGroup===!0)n=l(o,!0);else if(o.isQuantifier===!0){var r=t.inArray(o,e.matches),a=e.matches[r-1],h=d;if(isNaN(o.quantifier.max)){for(;o.repeaterPart&&o.repeaterPart!==d&&o.repeaterPart.length>d.length&&!(n=l(a,!0)););n=n||l(a,!0),n&&(o.repeaterPart=d),d=h+o.quantifier.max}else{for(var c=0,p=o.quantifier.max-1;c<p&&!(n=l(a,!0));c++);d=h+"{"+o.quantifier.min+","+o.quantifier.max+"}"}}else if(void 0!==o.matches)for(var m=0;m<o.length&&!(n=l(o[m],i));m++);else{var v;if("["==o.charAt(0)){v=d,v+=o;for(var g=0;g<f;g++)v+=")";var y=new RegExp("^("+v+")$");n=y.test(u)}else for(var b=0,k=o.length;b<k;b++)if("\\"!==o.charAt(b)){v=d,v+=o.substr(0,b+1),v=v.replace(/\|$/,"");for(var g=0;g<f;g++)v+=")";var y=new RegExp("^("+v+")$");if(n=y.test(u))break}d+=o}if(n)break}return i&&(d+=")",f--),n}var u,h,c=i.buffer.slice(),d="",p=!1,f=0;null===o.regexTokens&&a(),c.splice(n,0,e),u=c.join("");for(var m=0;m<o.regexTokens.length;m++){var v=o.regexTokens[m];if(p=l(v,v.isGroup))break}return p},cardinality:1}}}}),e}),function(t){"function"==typeof define&&define.amd?define(["jquery","hammerjs"],t):"object"==typeof exports?t(require("jquery"),require("hammerjs")):t(jQuery,Hammer)}(function(t,e){function i(i,n){var s=t(i);s.data("hammer")||s.data("hammer",new e(s[0],n))}t.fn.hammer=function(t){return this.each(function(){i(this,t)})},e.Manager.prototype.emit=function(e){return function(i,n){e.call(this,i,n),t(this.element).trigger({type:i,gesture:n})}}(e.Manager.prototype.emit)}),!function(t){"function"==typeof define&&define.amd?define(["jquery","inputmask"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("./inputmask")):t(jQuery,window.Inputmask)}(function(t,e){return void 0===t.fn.inputmask&&(t.fn.inputmask=function(i,n){var s,o=this[0];if(void 0===n&&(n={}),"string"==typeof i)switch(i){case"unmaskedvalue":return o&&o.inputmask?o.inputmask.unmaskedvalue():t(o).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return o&&o.inputmask?o.inputmask.getemptymask():"";case"hasMaskedValue":return!(!o||!o.inputmask)&&o.inputmask.hasMaskedValue();case"isComplete":return!o||!o.inputmask||o.inputmask.isComplete();case"getmetadata":return o&&o.inputmask?o.inputmask.getmetadata():void 0;case"setvalue":t(o).val(n),o&&void 0===o.inputmask&&t(o).triggerHandler("setvalue");break;case"option":if("string"!=typeof n)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(n)});if(o&&void 0!==o.inputmask)return o.inputmask.option(n);break;default:return n.alias=i,s=new e(n),this.each(function(){s.mask(this)})}else{if("object"==typeof i)return s=new e(i),void 0===i.mask&&void 0===i.alias?this.each(function(){return void 0!==this.inputmask?this.inputmask.option(i):void s.mask(this)}):this.each(function(){s.mask(this)});if(void 0===i)return this.each(function(){s=new e(n),s.mask(this)})}}),t.fn.inputmask}),function(t){t(document).ready(function(){t(".validate").validate({rules:{level:{required:!0}}})})}(jQuery),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(e){function n(){var n,s;return!i.settings.submitHandler||(i.submitButton&&(n=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),s=i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&n.remove(),void 0!==s&&s)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i,n;return t(this[0]).is("form")?e=this.validate().form():(n=[],e=!0,i=t(this[0].form).validate(),this.each(function(){e=i.element(this)&&e,e||(n=n.concat(i.errorList))}),i.errorList=n),e},rules:function(e,i){if(this.length){var n,s,o,r,a,l,u=this[0];if(e)switch(n=t.data(u.form,"validator").settings,s=n.rules,o=t.validator.staticRules(u),e){case"add":t.extend(o,t.validator.normalizeRule(i)),delete o.messages,s[u.name]=o,i.messages&&(n.messages[u.name]=t.extend(n.messages[u.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(e,i){l[i]=o[i],delete o[i],"required"===i&&t(u).removeAttr("aria-required")}),l):(delete s[u.name],o)}return r=t.validator.normalizeRules(t.extend({},t.validator.classRules(u),t.validator.attributeRules(u),t.validator.dataRules(u),t.validator.staticRules(u)),u),r.required&&(a=r.required,delete r.required,r=t.extend({required:a},r),t(u).attr("aria-required","true")),r.remote&&(a=r.remote,delete r.remote,r=t.extend(r,{remote:a})),r}}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){var i=t(e).val();return null!==i&&!!t.trim(""+i)},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:void 0===i?e:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,i){var n=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(e)||-1!==t.inArray(i.keyCode,n)||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required",remote:"Please fix this field.",email:"Please enter a valid email address",url:"Please enter a valid URL",date:"Please enter a valid date",dateISO:"Please enter a valid date ( ISO )",number:"Please enter a valid number",digits:"Please enter only digits",equalTo:"Please enter the same value again",maxlength:t.validator.format("Please enter no more than {0} characters"),minlength:t.validator.format("Please enter at least {0} characters"),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long"),range:t.validator.format("Please enter a value between {0} and {1}"),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}."),step:t.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this.form,"validator"),n="on"+e.type.replace(/^validate/,""),s=i.settings;s[n]&&!t(this).is(s.ignore)&&s[n].call(i,this,e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){n[i]=e})}),i=this.settings.rules,t.each(i,function(e,n){i[e]=t.validator.normalizeRule(n)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i,n,s=this.clean(e),o=this.validationTargetFor(s),r=this,a=!0;return void 0===o?delete this.invalid[s.name]:(this.prepareElement(o),this.currentElements=t(o),n=this.groups[o.name],n&&t.each(this.groups,function(t,e){e===n&&t!==o.name&&(s=r.validationTargetFor(r.clean(r.findByName(t))),s&&s.name in r.invalid&&(r.currentElements.push(s),a=a&&r.check(s)))}),i=this.check(o)!==!1,a=a&&i,i?this.invalid[o.name]=!1:this.invalid[o.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!i)),a},showErrors:function(e){if(e){var i=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:i.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)t[e]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var n=this.name||t(this).attr("name");return!n&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0]),!(n in i||!e.objectLength(t(this).rules()))&&(i[n]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,n,s=t(e),o=e.type;return"radio"===o||"checkbox"===o?this.findByName(e.name).filter(":checked").val():"number"===o&&"undefined"!=typeof e.validity?e.validity.badInput?"NaN":s.val():(i=e.hasAttribute("contenteditable")?s.text():s.val(),"file"===o?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(n=i.lastIndexOf("/"),n>=0?i.substr(n+1):(n=i.lastIndexOf("\\"),n>=0?i.substr(n+1):i)):"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,n,s,o=t(e).rules(),r=t.map(o,function(t,e){return e}).length,a=!1,l=this.elementValue(e);if("function"==typeof o.normalizer){if(l=o.normalizer.call(e,l),"string"!=typeof l)throw new TypeError("The normalizer should return a string value.");delete o.normalizer}for(n in o){s={method:n,parameters:o[n]};try{if(i=t.validator.methods[n].call(this,l,e,s.parameters),"dependency-mismatch"===i&&1===r){a=!0;continue}if(a=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,s),!1}catch(u){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+s.method+"' method.",u),u instanceof TypeError&&(u.message+=".  Exception occurred when checking element "+e.id+", check the '"+s.method+"' method."),u}}if(!a)return this.objectLength(o)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){var n=this.findDefined(this.customMessage(e.name,i.method),this.customDataMessage(e,i.method),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),s=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,i.parameters,e):s.test(n)&&(n=t.validator.format(n.replace(s,"{$1}"),i.parameters)),n},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e);this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n,s,o,r,a=this.errorsFor(e),l=this.idOrName(e),u=t(e).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(i)):(a=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),n=a,this.settings.wrapper&&(n=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,t(e)):n.insertAfter(e),a.is("label")?a.attr("for",l):0===a.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(o=a.attr("id"),u?u.match(new RegExp("\\b"+this.escapeCssMeta(o)+"\\b"))||(u+=" "+o):u=o,t(e).attr("aria-describedby",u),s=this.groups[e.name],s&&(r=this,t.each(r.groups,function(e,i){i===s&&t("[name='"+r.escapeCssMeta(e)+"']",r.currentForm).attr("aria-describedby",a.attr("id"))})))),!i&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,e)),this.toShow=this.toShow.add(a)},errorsFor:function(e){var i=this.escapeCssMeta(this.idOrName(e)),n=t(e).attr("aria-describedby"),s="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(s=s+", #"+this.escapeCssMeta(n).replace(/\s+/g,", #")),this.errors().filter(s)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,i){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:i})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(t,e,i,n){/min|max|step/.test(i)&&(null===e||/number|range|text/.test(e))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?t[i]=n:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(e){var i,n,s={},o=t(e),r=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(n=e.getAttribute(i),""===n&&(n=!0),n=!!n):n=o.attr(i),this.normalizeAttributeRule(s,r,i,n);return s.maxlength&&/-1|2147483647|524288/.test(s.maxlength)&&delete s.maxlength,s},dataRules:function(e){var i,n,s={},o=t(e),r=e.getAttribute("type");for(i in t.validator.methods)n=o.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(s,r,i,n);return s},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,s){if(s===!1)return void delete e[n];if(s.param||s.depends){var o=!0;switch(typeof s.depends){case"string":o=!!t(s.depends,i.form).length;break;case"function":o=s.depends.call(i,i)}o?e[n]=void 0===s.param||s.param:(t.data(i.form,"validator").resetElements(t(i)),delete e[n])}}),t.each(e,function(n,s){e[n]=t.isFunction(s)&&"normalizer"!==n?s(i):s}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==n?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var s=t(i).val();return s&&s.length>0}return this.checkable(i)?this.getLength(e,i)>0:e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||s>=n},maxlength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||n>=s},rangelength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||s>=n[0]&&s<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},step:function(e,i,n){var s=t(i).attr("type"),o="Step attribute on input type "+s+" is not supported.",r=["text","number","range"],a=new RegExp("\\b"+s+"\\b"),l=s&&!a.test(r.join());if(l)throw new Error(o);return this.optional(i)||e%n===0},equalTo:function(e,i,n){var s=t(n);return this.settings.onfocusout&&s.not(".validate-equalTo-blur").length&&s.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){t(i).valid()}),e===s.val()},remote:function(e,i,n,s){if(this.optional(i))return"dependency-mismatch";s="string"==typeof s&&s||"remote";var o,r,a,l=this.previousValue(i,s);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][s],this.settings.messages[i.name][s]=l.message,n="string"==typeof n&&{url:n}||n,a=t.param(t.extend({data:e},n.data)),l.old===a?l.valid:(l.old=a,o=this,this.startRequest(i),r={},r[i.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:r,context:o.currentForm,success:function(t){var n,r,a,u=t===!0||"true"===t;o.settings.messages[i.name][s]=l.originalMessage,u?(a=o.formSubmitted,o.resetInternals(),o.toHide=o.errorsFor(i),o.formSubmitted=a,o.successList.push(i),o.invalid[i.name]=!1,o.showErrors()):(n={},r=t||o.defaultMessage(i,{method:s,parameters:e}),n[i.name]=l.message=r,o.invalid[i.name]=!0,o.showErrors(n)),l.valid=u,o.stopRequest(i,u)}},n)),"pending")}}});var e,i={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,n){var s=t.port;"abort"===t.mode&&(i[s]&&i[s].abort(),i[s]=n)}):(e=t.ajax,t.ajax=function(n){var s=("mode"in n?n:t.ajaxSettings).mode,o=("port"in n?n:t.ajaxSettings).port;return"abort"===s?(i[o]&&i[o].abort(),i[o]=e.apply(this,arguments),i[o]):e.apply(this,arguments)})}),function(t){t.fn.jRating=function(e){var i={bigStarsPath:"img/star.png",smallStarsPath:"img/star_sm.png",phpPath:"php/jRating.php",type:"big",step:!1,isDisabled:!1,length:5,decimalLength:0,rateMax:20,rateInfosX:-45,rateInfosY:5,onSuccess:null,onError:null};if(this.length>0)return this.each(function(){function n(t){var e=parseFloat(100*t/f*r.rateMax/100);switch(r.decimalLength){case 1:var i=Math.round(10*e)/10;break;case 2:var i=Math.round(100*e)/100;break;case 3:var i=Math.round(1e3*e)/1e3;break;default:var i=Math.round(1*e)/1}return i}function s(){switch(r.type){case"small":l=25,u=24,h=r.smallStarsPath;break;default:l=35,u=26,h=r.bigStarsPath}}function o(t){return t?t.offsetLeft+o(t.offsetParent):0}var r=t.extend(i,e),a=0,l=0,u=0,h="";if(t(this).hasClass("jDisabled")||r.isDisabled)var c=!0;else var c=!1;s(),t(this).height(u);var d=parseFloat(t(this).attr("data").split("_")[0]),p=parseInt(t(this).attr("data").split("_")[1]),f=l*r.length,m=d/r.rateMax*f,d=(t("<div>",{
"class":"jRatingColor",css:{width:m}}).appendTo(t(this)),t("<div>",{"class":"jRatingAverage",css:{width:0,top:-u}}).appendTo(t(this)));t("<div>",{"class":"jStar",css:{width:f,height:u,top:-(2*u),background:"url("+h+") repeat-x"}}).appendTo(t(this));t(this).css({width:f,overflow:"hidden",zIndex:1,position:"relative"}),c||t(this).bind({mouseenter:function(e){var i=o(this),s=e.pageX-i;t("<p>",{"class":"jRatingInfos",html:n(s)+' <span class="maxRate">/ '+r.rateMax+"</span>",css:{top:e.pageY+r.rateInfosY,left:e.pageX+r.rateInfosX}}).appendTo("body").show()},mouseover:function(e){t(this).css("cursor","pointer")},mouseout:function(){t(this).css("cursor","default"),d.width(0)},mousemove:function(e){var i=o(this),s=e.pageX-i;a=r.step?Math.floor(s/l)*l+l:s,d.width(a),t("p.jRatingInfos").css({left:e.pageX+r.rateInfosX}).html(n(a)+' <span class="maxRate">/ '+r.rateMax+"</span>")},mouseleave:function(){t("p.jRatingInfos").remove()},click:function(e){t(this).unbind().css("cursor","default").addClass("jDisabled"),t("p.jRatingInfos").fadeOut("fast",function(){t(this).remove()}),e.preventDefault();var i=n(a);d.width(a),t(".datasSent p").html("<strong>idBox : </strong>"+p+"<br /><strong>rate : </strong>"+i+"<br /><strong>action :</strong> rating"),t(".serverResponse p").html("<strong>Loading...</strong>"),t(".rating").val(i),t.post(r.phpPath,{idBox:p,rate:i,action:"rating"},function(e){e.error?(t(".serverResponse p").html(e.server),r.onError&&r.onError()):(t(".serverResponse p").html(e.server),r.onSuccess&&r.onSuccess())},"json")}})})}}(jQuery);