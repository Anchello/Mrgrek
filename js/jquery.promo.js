!function(t,s){var e=function(){this.wedding=t(".startscreen__weddings"),this.tab=t(".promo__nav"),this.wrapper=t(".promo__wrapper"),this.items=t(".promo__item"),this.index=0,this.defaults={tabs_cls:"promo__nav--current",items_cls:"promo__item--current"}};e.prototype={init:function(){var e=this,i=this.defaults,a=s.width(),n=t(this.tab[this.index]),r=t(this.items[this.index]);this.tab&&this.tab.length>0&&(n.addClass(i.tabs_cls),r.addClass(i.items_cls),this.tab.each(function(s,e){t(e).data("index",s)}),this.items.each(function(s,e){t(e).data("index",s)}),s.on("load",function(){setTimeout(function(){e.team&&e.team.length>0||e.other&&e.other.length>0?a>767&&e.render.call(e):e.render.call(e)},300)}),s.on("resize",function(){setTimeout(function(){e.team&&e.team.length>0||e.other&&e.other.length>0?a>767&&e.render.call(e):e.render.call(e)},300)}),this.tab.on("click",function(s){return e.eventChangeTab.call(e,t(this)),s.preventDefault(),!1}))},render:function(){var e=this,i=!0,a=this.defaults,n=s.width();this.items.each(function(s,r){r=t(r),r.hasClass(a.items_cls)?i=!1:i?e.setTranslateX(r,-n):e.setTranslateX(r,2*n)}),this.resizeWrapper()},resizeWrapper:function(){var s=this.defaults,e=t("."+s.items_cls);this.items.css("position","absolute"),this.wrapper.css("height",e.outerHeight())},setTranslateX:function(t,s){t.css({"-webkit-transform":"matrix(1, 0, 0, 1, "+s+", 0)","-moz-transform":"matrix(1, 0, 0, 1, "+s+", 0)","-ms-transform":"matrix(1, 0, 0, 1, "+s+", 0)","-o-transform":"matrix(1, 0, 0, 1, "+s+", 0)",transform:"matrix(1, 0, 0, 1, "+s+", 0)"})},animateTranslateX:function(s,e,i){var a=this;t({offset:e}).stop().animate({offset:i},{duration:650,step:function(t){a.setTranslateX(s,t)}})},changeTab:function(e,i){var a=this.defaults,n=Number(i.data("index")),r=t("."+a.items_cls),h=t(this.items[n]),o=t("."+a.tabs_cls),d=s.width();o.removeClass(a.tabs_cls),i.addClass(a.tabs_cls),r.removeClass(a.items_cls),h.addClass(a.items_cls),this.index>e?(this.animateTranslateX(r,0,2*d),this.animateTranslateX(h,-d,0)):(this.animateTranslateX(r,1,-d),this.animateTranslateX(h,2*d,0)),this.index=e,this.resizeWrapper(),this.other&&this.other.length>0&&(1===this.index?this.other.css("background-image","url(../img/other_bg2.jpg)"):2===this.index?this.other.css("background-image","url(../img/other_bg3.jpg)"):this.other.css("background-image","url(../img/other_bg1.jpg)")),this.wedding&&this.wedding.length>0&&(1===this.index?this.wedding.css("background-image","url(../img/wedding_bg2.jpg)"):this.wedding.css("background-image","url(../img/wedding_bg1.jpg)"))},eventChangeTab:function(t){var s=this.defaults,e=Number(t.data("index"));t.hasClass(s.tabs_cls)||this.changeTab(e,t)}},t.tabs=function(){return(new e).init()}}(jQuery,jQuery(window));